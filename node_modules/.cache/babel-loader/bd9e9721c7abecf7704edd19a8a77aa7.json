{"ast":null,"code":"var _jsxFileName = \"/home/mukeshs/Projects/edurights/src/components/express/deepExpress/routerDocs.js\";\nimport React, { Component } from 'react';\nimport Prism from \"prismjs\";\nimport { Grid, Paper, withStyles, List } from \"@material-ui/core\";\nimport '../../ReactJs/styles.css';\nimport Sidebar from '../sidebar';\nimport PrismCode from '../../ReactJs/prismCode';\nconst titles = {\n  backgroundColor: '#F0F8FF',\n  padding: '1px',\n  fontSize: '16px'\n};\n\nconst styles = theme => ({\n  paper: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1)\n  },\n  smMargin: {\n    margin: theme.spacing(1)\n  },\n  actionDiv: {\n    textAlign: \"center\"\n  }\n});\n\nconst loadUser = `router.all('*', requireAuthentication, loadUser)`.trim();\nconst paremRoutes = `\nrouter.param('user', function (req, res, next, id) {\n  User.find(id, function (err, user) {\n    if (err) {\n      next(err)\n    } else if (user) {\n      req.user = user\n      next()\n    } else {\n      next(new Error('failed to load user'))\n    }\n  })\n})\n`.trim();\nconst paramCallback = `\nrouter.param('id', function (req, res, next, id) {\n  console.log('CALLED ONLY ONCE')\n  next()\n})\n\nrouter.get('/user/:id', function (req, res, next) {\n  console.log('although this matches')\n  next()\n})\n\nrouter.get('/user/:id', function (req, res) {\n  console.log('and this matches too')\n  res.end()\n})\n`.trim();\nconst firstParam = `\nvar express = require('express')\nvar app = express()\nvar router = express.Router()\n\nrouter.param(function (param, option) {                              //customizing the behavior of router.param()\n  return function (req, res, next, val) {\n    if (val === option) {\n      next()\n    } else {\n      res.sendStatus(403)\n    }\n  }\n})\n\n\nrouter.param('id', '1337')                                                // using the customized router.param()\n\nrouter.get('/user/:id', function (req, res) {                                 // route to trigger the capture\n  res.send('OK')\n})\n\napp.use(router)\n\napp.listen(3000, function () {\n  console.log('Ready')\n})\n`.trim();\nconst routerParams = `\nrouter.param(function (param, validator) {\n  return function (req, res, next, val) {\n    if (validator(val)) {\n      next()\n    } else {\n      res.sendStatus(403)\n    }\n  }\n})\n\nrouter.param('id', function (candidate) {\n  return !isNaN(parseFloat(candidate)) && isFinite(candidate)\n})\n`.trim();\nconst routerVal = `\nvar router = express.Router()\n\nrouter.param('user_id', function (req, res, next, id) {\n  req.user = {\n    id: id,\n    name: 'TJ'\n  }\n  next()\n})\n\nrouter.route('/users/:user_id')\n  .all(function (req, res, next) {\n    next()\n  })\n  \n  .get(function (req, res, next) {\n    res.json(req.user)\n  })\n  \n  .put(function (req, res, next) {\n    req.user.name = req.params.name\n    res.json(req.user)\n  })\n  \n  .post(function (req, res, next) {\n    next(new Error('not implemented'))\n  })\n  \n  .delete(function (req, res, next) {\n    next(new Error('not implemented'))\n  })\n`.trim();\nconst routerUse = `\nvar express = require('express')\nvar app = express()\nvar router = express.Router()\n\nrouter.use(function (req, res, next) {               //all requests to this router will first hit this middleware\n  console.log('%s %s %s', req.method, req.url, req.path)\n  next()\n})\n\nrouter.use('/bar', function (req, res, next) {\n  // ... maybe some additional /bar logging ...\n  next()\n})\n\nrouter.use(function (req, res, next) {\n  res.send('Hello World')\n})\n\napp.use('/foo', router)\n\napp.listen(3000)\n`.trim();\nconst defRoutes = `\napp.get('/users/:userId/books/:bookId', function (req, res) {\n  res.send(req.params)\n})\n`.trim();\nconst singleCallback = `\napp.get('/example/a', function (req, res) {\n  res.send('Hello from A!')\n})\n\napp.get('/example/b', function (req, res, next) {\n  console.log('the response will be sent by the next function ...')\n  next()\n}, function (req, res) {\n  res.send('Hello from B!')\n})\n\nvar cb0 = function (req, res, next) {                     //An array of callback functions can handle a route.\n  console.log('CB0')\n  next()\n}\n\nvar cb1 = function (req, res, next) {\n  console.log('CB1')\n  next()\n}\n\nvar cb2 = function (req, res) {\n  res.send('Hello from C!')\n}\n\napp.get('/example/c', [cb0, cb1, cb2])\n\n\n\n//Combination of independent functions and arrays of functions can handle a route.\nvar cb0 = function (req, res, next) {      \n  console.log('CB0')\n  next()\n}\n\nvar cb1 = function (req, res, next) {\n  console.log('CB1')\n  next()\n}\n\napp.get('/example/d', [cb0, cb1], function (req, res, next) {\n  console.log('the response will be sent by the next function ...')\n  next()\n}, function (req, res) {\n  res.send('Hello from D!')\n})\n`.trim();\nconst appRoutes = `\napp.route('/book')\n  .get(function (req, res) {\n    res.send('Get a random book')\n  })\n  .post(function (req, res) {\n    res.send('Add a book')\n  })\n  .put(function (req, res) {\n    res.send('Update the book')\n  })\n`.trim();\nconst exRouters = `\nvar express = require('express')\nvar router = express.Router()\n\n\nrouter.use(function timeLog (req, res, next) {\n  console.log('Time: ', Date.now())\n  next()\n})\n\nrouter.get('/', function (req, res) {\n  res.send('Birds home page')\n  \n  router.get('/about', function (req, res) {\n    res.send('About birds')\n  })\n  \n  module.exports = router\n  `.trim();\nconst middlewareRoutes = ``.trim();\n\nclass IntroAlgo extends Component {\n  componentDidMount() {\n    setTimeout(() => Prism.highlightAll(), 0);\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    return React.createElement(Grid, {\n      container: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 262\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 263\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    }, React.createElement(Sidebar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 264\n      },\n      __self: this\n    })))), React.createElement(Grid, {\n      item: true,\n      xs: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 267\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    }, \"Router\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271\n      },\n      __self: this\n    }, \"Routing refers to how an application\\u2019s endpoints (URIs) respond to client requests.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }, \"These routing methods specify a callback function called when the application receives a request to the specified endpoint and HTTP method.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 276\n      },\n      __self: this\n    }, \"In fact, the routing methods can have more than one callback function as arguments. With multiple callback functions, it is important to provide next as an argument to the callback function and then call next() within the body of the function to hand off control to the next callback.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, \"A router object is an isolated instance of middleware and routes. You can think of it as a \\u201Cmini-application,\\u201D capable only of performing middleware and routing functions. Every Express application has a built-in app router.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286\n      },\n      __self: this\n    }, \"The express object has a Router() method that creates a new router object.\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, \"router.all(path, [callback, ...] callback):\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }, \"This method except all matches HTTP methods (verbs).\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, \"This method is extremely useful for mapping \\u201Cglobal\\u201D logic for specific path prefixes or arbitrary matches.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }), React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, \"Ex. \"), \"if you placed the following route at the top of all other route definitions, it would require that all routes from that point on would require authentication, and automatically load a user. Keep in mind that these callbacks do not have to act as end points; loadUser can perform a task, then call next() to continue matching subsequent routes.\"), React.createElement(\"div\", {\n      style: titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 302\n      },\n      __self: this\n    }, React.createElement(PrismCode, {\n      code: loadUser,\n      language: \"js\",\n      plugins: [\"line-numbers\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 303\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 311\n      },\n      __self: this\n    }, \"router.param(name, callback):\"), \"The parameters of the callback function are:\", React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 313\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 314\n      },\n      __self: this\n    }, \"req, the request object.\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315\n      },\n      __self: this\n    }, \"res, the response object.\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316\n      },\n      __self: this\n    }, \"next, indicating the next middleware function.\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 317\n      },\n      __self: this\n    }, \"The value of the name parameter.\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 318\n      },\n      __self: this\n    }, \"The name of the parameter.\")), React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, \"Unlike app.param(), router.param() does not accept an array of route parameters.\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, \"For example, when :user is present in a route path, you may map user loading logic to automatically provide req.user to the route, or perform validations on the parameter input.\"), React.createElement(\"div\", {\n      style: titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, React.createElement(PrismCode, {\n      code: paremRoutes,\n      language: \"js\",\n      plugins: [\"line-numbers\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }, \"Param callback functions are local to the router on which they are defined. They are not inherited by mounted apps or routers. Hence, param callbacks defined on router will be triggered only by route parameters defined on router routes.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }, \"A param callback will be called only once in a request-response cycle, even if the parameter is matched in multiple routes, as shown in the following examples.\"), React.createElement(\"div\", {\n      style: titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 343\n      },\n      __self: this\n    }, React.createElement(PrismCode, {\n      code: paramCallback,\n      language: \"js\",\n      plugins: [\"line-numbers\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }, \"The behavior of the router.param(name, callback) method can be altered entirely by passing only a function to router.param(). This function is a custom implementation of how router.param(name, callback) should behave - it accepts two parameters and must return a middleware.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, \"The first parameter of this function is the name of the URL parameter that should be captured, the second parameter can be any JavaScript object which might be used for returning the middleware implementation.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, \"The middleware returned by the function decides the behavior of what happens when a URL parameter is captured.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, \"In this example, the router.param(name, callback) signature is modified to router.param(name, accessId). Instead of accepting a name and a callback, router.param() will now accept a name and a number.\"), React.createElement(\"div\", {\n      style: titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 369\n      },\n      __self: this\n    }, React.createElement(PrismCode, {\n      code: firstParam,\n      language: \"js\",\n      plugins: [\"line-numbers\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 370\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 376\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }, \"In this example, the router.param(name, callback) signature remains the same, but instead of a middleware callback, a custom data type checking function has been defined to validate the data type of the user id.\"), React.createElement(\"div\", {\n      style: titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382\n      },\n      __self: this\n    }, React.createElement(PrismCode, {\n      code: routerParams,\n      language: \"js\",\n      plugins: [\"line-numbers\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 383\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 389\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    }, \"router.route(path):\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }, \"Returns an instance of a single route which you can then use to handle HTTP verbs with optional middleware. Use router.route() to avoid duplicate route naming and thus typing errors.\"), React.createElement(\"div\", {\n      style: titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 396\n      },\n      __self: this\n    }, React.createElement(PrismCode, {\n      code: routerVal,\n      language: \"js\",\n      plugins: [\"line-numbers\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 405\n      },\n      __self: this\n    }, \"router.use([path], [function, ...] function):\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 406\n      },\n      __self: this\n    }, \"Uses the specified middleware function or functions, with optional mount path path, that defaults to \\u201C/\\u201D.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409\n      },\n      __self: this\n    }, \"Middleware is like a plumbing pipe: requests start at the first middleware function defined and work their way \\u201Cdown\\u201D the middleware stack processing for each path they match.\"), React.createElement(\"div\", {\n      style: titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413\n      },\n      __self: this\n    }, React.createElement(PrismCode, {\n      code: routerUse,\n      language: \"js\",\n      plugins: [\"line-numbers\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 414\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 420\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421\n      },\n      __self: this\n    }, \"The \\u201Cmount\\u201D path is stripped and is not visible to the middleware function. The main effect of this feature is that a mounted middleware function may operate without code changes regardless of its \\u201Cprefix\\u201D pathname.\"), React.createElement(\"i\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426\n      },\n      __self: this\n    }, \"The order in which you define middleware with router.use() is very important. They are invoked sequentially, thus the order defines middleware precedence.\"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431\n      },\n      __self: this\n    }, \"Route paths:\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 432\n      },\n      __self: this\n    }, \"Route paths, in combination with a request method, define the endpoints at which requests can be made. Route paths can be strings, string patterns, or regular expressions.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 436\n      },\n      __self: this\n    }, \"The characters ?, +, *, and () are subsets of their regular expression counterparts. The hyphen (-) and the dot (.) are interpreted literally by string-based paths.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 440\n      },\n      __self: this\n    }, \"If you need to use the dollar character ($) in a path string, enclose it escaped within ([ and ]). For example, the path string for requests at \\u201C/data/$book\\u201D, would be \\u201C/data/([\\\\$])book\\u201D.\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 446\n      },\n      __self: this\n    }, \"Route parameters:\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 447\n      },\n      __self: this\n    }, \"Route parameters are named URL segments that are used to capture the values specified at their position in the URL. The captured values are populated in the req.params object, with the name of the route parameter specified in the path as their respective keys.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 452\n      },\n      __self: this\n    }, \"To define routes with route parameters, simply specify the route parameters in the path of the route as shown below.\"), React.createElement(\"div\", {\n      style: titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456\n      },\n      __self: this\n    }, React.createElement(PrismCode, {\n      code: defRoutes,\n      language: \"js\",\n      plugins: [\"line-numbers\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 463\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 465\n      },\n      __self: this\n    }, \"Route handlers:\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 466\n      },\n      __self: this\n    }, \"You can provide multiple callback functions that behave like middleware to handle a request. The only exception is that these callbacks might invoke next('route') to bypass the remaining route callbacks. You can use this mechanism to impose pre-conditions on a route, then pass control to subsequent routes if there\\u2019s no reason to proceed with the current route.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 472\n      },\n      __self: this\n    }, \"Route handlers can be in the form of a function, an array of functions, or combinations of both, as shown in the following examples.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476\n      },\n      __self: this\n    }, \"A single callback function can handle a route. For example:\"), React.createElement(\"div\", {\n      style: titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477\n      },\n      __self: this\n    }, React.createElement(PrismCode, {\n      code: singleCallback,\n      language: \"js\",\n      plugins: [\"line-numbers\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 484\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486\n      },\n      __self: this\n    }, \"app.route():\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 487\n      },\n      __self: this\n    }, \"You can create chainable route handlers for a route path by using app.route(). Because the path is specified at a single location, creating modular routes is helpful, as is reducing redundancy and typos.\"), React.createElement(\"div\", {\n      style: titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 492\n      },\n      __self: this\n    }, React.createElement(PrismCode, {\n      code: appRoutes,\n      language: \"js\",\n      plugins: [\"line-numbers\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 493\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 501\n      },\n      __self: this\n    }, \"express.Router:\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 502\n      },\n      __self: this\n    }, \"Use the express.Router class to create modular, mountable route handlers.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 503\n      },\n      __self: this\n    }, \"A Router instance is a complete middleware and routing system; for this reason, it is often referred to as a \\u201Cmini-app\\u201D.\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 507\n      },\n      __self: this\n    }, \"The following example creates a router as a module, loads a middleware function in it, defines some routes, and mounts the router module on a path in the main app.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510\n      },\n      __self: this\n    }), \"Create a router file named birds.js in the app directory, with the following content:\"), React.createElement(\"div\", {\n      style: titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 513\n      },\n      __self: this\n    }, React.createElement(PrismCode, {\n      code: exRouters,\n      language: \"js\",\n      plugins: [\"line-numbers\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 514\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 520\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 522\n      },\n      __self: this\n    }, \"Writing middleware for use in Express apps\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 523\n      },\n      __self: this\n    }, \"Middleware functions are functions that have access to the request object (req), the response object (res), and the next function in the application\\u2019s request-response cycle. The next function is a function in the Express router which, when invoked, executes the middleware succeeding the current middleware.\"), \"Middleware functions can perform the following tasks:\", React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 530\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 531\n      },\n      __self: this\n    }, \"Execute any code.\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 532\n      },\n      __self: this\n    }, \"Make changes to the request and the response objects.\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 533\n      },\n      __self: this\n    }, \"End the request-response cycle.\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 534\n      },\n      __self: this\n    }, \"Call the next middleware in the stack.\")), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 536\n      },\n      __self: this\n    }, \"If the current middleware function does not end the request-response cycle, it must call next() to pass control to the next middleware function. Otherwise, the request will be left hanging.\"), React.createElement(\"div\", {\n      style: titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 540\n      },\n      __self: this\n    }, React.createElement(PrismCode, {\n      code: middlewareRoutes,\n      language: \"js\",\n      plugins: [\"line-numbers\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 541\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nexport default withStyles(styles)(IntroAlgo);","map":{"version":3,"sources":["/home/mukeshs/Projects/edurights/src/components/express/deepExpress/routerDocs.js"],"names":["React","Component","Prism","Grid","Paper","withStyles","List","Sidebar","PrismCode","titles","backgroundColor","padding","fontSize","styles","theme","paper","margin","spacing","smMargin","actionDiv","textAlign","loadUser","trim","paremRoutes","paramCallback","firstParam","routerParams","routerVal","routerUse","defRoutes","singleCallback","appRoutes","exRouters","middlewareRoutes","IntroAlgo","componentDidMount","setTimeout","highlightAll","render","classes","props"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Prism from \"prismjs\"\nimport { Grid, Paper, withStyles, List } from \"@material-ui/core\";\n\nimport '../../ReactJs/styles.css'\nimport Sidebar from '../sidebar';\nimport PrismCode from '../../ReactJs/prismCode';\n\n\nconst titles = { backgroundColor: '#F0F8FF', padding: '1px', fontSize: '16px' }\n\nconst styles = theme => ({\n  paper: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1)\n  },\n  smMargin: {\n    margin: theme.spacing(1)\n  },\n  actionDiv: {\n    textAlign: \"center\"\n  }\n})\n\nconst loadUser = `router.all('*', requireAuthentication, loadUser)`.trim();\n\nconst paremRoutes = `\nrouter.param('user', function (req, res, next, id) {\n  User.find(id, function (err, user) {\n    if (err) {\n      next(err)\n    } else if (user) {\n      req.user = user\n      next()\n    } else {\n      next(new Error('failed to load user'))\n    }\n  })\n})\n`.trim();\n\nconst paramCallback = `\nrouter.param('id', function (req, res, next, id) {\n  console.log('CALLED ONLY ONCE')\n  next()\n})\n\nrouter.get('/user/:id', function (req, res, next) {\n  console.log('although this matches')\n  next()\n})\n\nrouter.get('/user/:id', function (req, res) {\n  console.log('and this matches too')\n  res.end()\n})\n`.trim();\n\nconst firstParam = `\nvar express = require('express')\nvar app = express()\nvar router = express.Router()\n\nrouter.param(function (param, option) {                              //customizing the behavior of router.param()\n  return function (req, res, next, val) {\n    if (val === option) {\n      next()\n    } else {\n      res.sendStatus(403)\n    }\n  }\n})\n\n\nrouter.param('id', '1337')                                                // using the customized router.param()\n\nrouter.get('/user/:id', function (req, res) {                                 // route to trigger the capture\n  res.send('OK')\n})\n\napp.use(router)\n\napp.listen(3000, function () {\n  console.log('Ready')\n})\n`.trim();\n\nconst routerParams = `\nrouter.param(function (param, validator) {\n  return function (req, res, next, val) {\n    if (validator(val)) {\n      next()\n    } else {\n      res.sendStatus(403)\n    }\n  }\n})\n\nrouter.param('id', function (candidate) {\n  return !isNaN(parseFloat(candidate)) && isFinite(candidate)\n})\n`.trim();\n\nconst routerVal = `\nvar router = express.Router()\n\nrouter.param('user_id', function (req, res, next, id) {\n  req.user = {\n    id: id,\n    name: 'TJ'\n  }\n  next()\n})\n\nrouter.route('/users/:user_id')\n  .all(function (req, res, next) {\n    next()\n  })\n  \n  .get(function (req, res, next) {\n    res.json(req.user)\n  })\n  \n  .put(function (req, res, next) {\n    req.user.name = req.params.name\n    res.json(req.user)\n  })\n  \n  .post(function (req, res, next) {\n    next(new Error('not implemented'))\n  })\n  \n  .delete(function (req, res, next) {\n    next(new Error('not implemented'))\n  })\n`.trim();\n\nconst routerUse = `\nvar express = require('express')\nvar app = express()\nvar router = express.Router()\n\nrouter.use(function (req, res, next) {               //all requests to this router will first hit this middleware\n  console.log('%s %s %s', req.method, req.url, req.path)\n  next()\n})\n\nrouter.use('/bar', function (req, res, next) {\n  // ... maybe some additional /bar logging ...\n  next()\n})\n\nrouter.use(function (req, res, next) {\n  res.send('Hello World')\n})\n\napp.use('/foo', router)\n\napp.listen(3000)\n`.trim();\n\nconst defRoutes = `\napp.get('/users/:userId/books/:bookId', function (req, res) {\n  res.send(req.params)\n})\n`.trim();\n\nconst singleCallback = `\napp.get('/example/a', function (req, res) {\n  res.send('Hello from A!')\n})\n\napp.get('/example/b', function (req, res, next) {\n  console.log('the response will be sent by the next function ...')\n  next()\n}, function (req, res) {\n  res.send('Hello from B!')\n})\n\nvar cb0 = function (req, res, next) {                     //An array of callback functions can handle a route.\n  console.log('CB0')\n  next()\n}\n\nvar cb1 = function (req, res, next) {\n  console.log('CB1')\n  next()\n}\n\nvar cb2 = function (req, res) {\n  res.send('Hello from C!')\n}\n\napp.get('/example/c', [cb0, cb1, cb2])\n\n\n\n//Combination of independent functions and arrays of functions can handle a route.\nvar cb0 = function (req, res, next) {      \n  console.log('CB0')\n  next()\n}\n\nvar cb1 = function (req, res, next) {\n  console.log('CB1')\n  next()\n}\n\napp.get('/example/d', [cb0, cb1], function (req, res, next) {\n  console.log('the response will be sent by the next function ...')\n  next()\n}, function (req, res) {\n  res.send('Hello from D!')\n})\n`.trim();\n\nconst appRoutes = `\napp.route('/book')\n  .get(function (req, res) {\n    res.send('Get a random book')\n  })\n  .post(function (req, res) {\n    res.send('Add a book')\n  })\n  .put(function (req, res) {\n    res.send('Update the book')\n  })\n`.trim();\n\nconst exRouters = `\nvar express = require('express')\nvar router = express.Router()\n\n\nrouter.use(function timeLog (req, res, next) {\n  console.log('Time: ', Date.now())\n  next()\n})\n\nrouter.get('/', function (req, res) {\n  res.send('Birds home page')\n  \n  router.get('/about', function (req, res) {\n    res.send('About birds')\n  })\n  \n  module.exports = router\n  `.trim();\n\nconst middlewareRoutes = ``.trim();\n\n\n\nclass IntroAlgo extends Component {\n  componentDidMount() {\n    setTimeout(() => Prism.highlightAll(), 0)\n  }\n  render() {\n    const { classes } = this.props;\n    return (\n      <Grid container>\n        <Grid item xs={2}>\n          <Paper className={classes.paper}>\n            <h4><Sidebar /></h4>\n          </Paper>\n        </Grid>\n        <Grid item xs={10}>\n          <Paper className={classes.paper}>\n            <List>\n              <h3>Router</h3>\n              <p>Routing refers to how an application’s endpoints (URIs) respond to client requests.</p>\n              <p>\n                These routing methods specify a callback function called when the application receives a request\n                to the specified endpoint and HTTP method.\n              </p>\n              <p>\n                In fact, the routing methods can have more than one callback function as arguments. With multiple\n                callback functions, it is important to provide next as an argument to the callback function and\n                then call next() within the body of the function to hand off control to the next callback.\n              </p>\n              <p>\n                A router object is an isolated instance of middleware and routes. You can think of it as a\n                “mini-application,” capable only of performing middleware and routing functions. Every Express\n                application has a built-in app router.\n              </p>\n              <p>The express object has a Router() method that creates a new router object.</p>\n              <br />\n\n              <h3>router.all(path, [callback, ...] callback):</h3>\n              <p>\n                This method except all matches HTTP methods (verbs).\n              </p>\n              <p>\n                This method is extremely useful for mapping “global” logic for specific path prefixes or\n                arbitrary matches. \n                <br/>\n                <b>Ex. </b>if you placed the following route at the top of all other route\n                definitions, it would require that all routes from that point on would require authentication,\n                and automatically load a user. Keep in mind that these callbacks do not have to act as end points;\n                loadUser can perform a task, then call next() to continue matching subsequent routes.\n              </p>\n              <div style={titles}>\n                <PrismCode\n                  code={loadUser}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n\n              <h3>router.param(name, callback):</h3>\n              The parameters of the callback function are:\n              <ul>\n                <li>req, the request object.</li>\n                <li>res, the response object.</li>\n                <li>next, indicating the next middleware function.</li>\n                <li>The value of the name parameter.</li>\n                <li>The name of the parameter.</li>\n              </ul>\n              <b>Unlike app.param(), router.param() does not accept an array of route parameters.</b>\n              <br />\n              <p>\n                For example, when :user is present in a route path, you may map user loading logic to\n                automatically provide req.user to the route, or perform validations on the parameter input.\n              </p>\n              <div style={titles}>\n                <PrismCode\n                  code={paremRoutes}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n              <p>\n                Param callback functions are local to the router on which they are defined. They are not\n                inherited by mounted apps or routers. Hence, param callbacks defined on router will be triggered\n                only by route parameters defined on router routes.\n              </p>\n              <p>\n                A param callback will be called only once in a request-response cycle, even if the parameter is\n                matched in multiple routes, as shown in the following examples.\n              </p>\n              <div style={titles}>\n                <PrismCode\n                  code={paramCallback}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <p>\n                The behavior of the router.param(name, callback) method can be altered entirely by passing only a\n                function to router.param(). This function is a custom implementation of how router.param(name,\n                callback) should behave - it accepts two parameters and must return a middleware.\n              </p>\n              <p>\n                The first parameter of this function is the name of the URL parameter that should be captured,\n                the second parameter can be any JavaScript object which might be used for returning the\n                middleware implementation.\n              </p>\n              <p>\n                The middleware returned by the function decides the behavior of what happens when a URL parameter\n                is captured.\n              </p>\n              <p>\n                In this example, the router.param(name, callback) signature is modified to router.param(name,\n                accessId). Instead of accepting a name and a callback, router.param() will now accept a name and\n                a number.\n              </p>\n              <div style={titles}>\n                <PrismCode\n                  code={firstParam}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n              <i>\n                In this example, the router.param(name, callback) signature remains the same, but instead of a\n                middleware callback, a custom data type checking function has been defined to validate the data\n                type of the user id.\n              </i>\n              <div style={titles}>\n                <PrismCode\n                  code={routerParams}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n\n              <h3>router.route(path):</h3>\n              <p>\n                Returns an instance of a single route which you can then use to handle HTTP verbs with optional\n                middleware. Use router.route() to avoid duplicate route naming and thus typing errors.\n              </p>\n              <div style={titles}>\n                <PrismCode\n                  code={routerVal}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n\n              <h3>router.use([path], [function, ...] function):</h3>\n              <p>\n                Uses the specified middleware function or functions, with optional mount path path, that defaults to “/”.\n              </p>\n              <p>\n                Middleware is like a plumbing pipe: requests start at the first middleware function defined and\n                work their way “down” the middleware stack processing for each path they match.\n              </p>\n              <div style={titles}>\n                <PrismCode\n                  code={routerUse}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n              <p>\n                The “mount” path is stripped and is not visible to the middleware function. The main effect of\n                this feature is that a mounted middleware function may operate without code changes regardless of\n                its “prefix” pathname.\n              </p>\n              <i>\n                The order in which you define middleware with router.use() is very important. They are invoked\n                sequentially, thus the order defines middleware precedence.\n              </i>\n\n              <h3>Route paths:</h3>\n              <p>\n                Route paths, in combination with a request method, define the endpoints at which requests can be\n                made. Route paths can be strings, string patterns, or regular expressions.\n              </p>\n              <p>\n                The characters ?, +, *, and () are subsets of their regular expression counterparts. The hyphen\n                (-) and the dot (.) are interpreted literally by string-based paths.\n              </p>\n              <p>\n                If you need to use the dollar character ($) in a path string, enclose it escaped within ([ and ]).\n                For example, the path string for requests at “/data/$book”, would be “/data/([\\$])book”.\n              </p>\n              <br />\n\n              <h3>Route parameters:</h3>\n              <p>\n                Route parameters are named URL segments that are used to capture the values specified at their\n                position in the URL. The captured values are populated in the req.params object, with the name of\n                the route parameter specified in the path as their respective keys.\n              </p>\n              <p>\n                To define routes with route parameters, simply specify the route parameters in the path of the route\n                as shown below.\n              </p>\n              <div style={titles}>\n                <PrismCode\n                  code={defRoutes}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n\n              <h3>Route handlers:</h3>\n              <p>\n                You can provide multiple callback functions that behave like middleware to handle a request. The\n                only exception is that these callbacks might invoke next('route') to bypass the remaining route callbacks.\n                You can use this mechanism to impose pre-conditions on a route, then pass control to subsequent routes if\n                there’s no reason to proceed with the current route.\n              </p>\n              <p>\n                Route handlers can be in the form of a function, an array of functions, or combinations of both, as shown\n                in the following examples.\n              </p>\n              <p>A single callback function can handle a route. For example:</p>\n              <div style={titles}>\n                <PrismCode\n                  code={singleCallback}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n\n              <h3>app.route():</h3>\n              <p>\n                You can create chainable route handlers for a route path by using app.route(). Because the path\n                is specified at a single location, creating modular routes is helpful, as is reducing redundancy\n                and typos.\n              </p>\n              <div style={titles}>\n                <PrismCode\n                  code={appRoutes}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n\n              <h3>express.Router:</h3>\n              <p>Use the express.Router class to create modular, mountable route handlers.</p>\n              <p>\n                A Router instance is a complete middleware and routing system; for this reason, it is often\n                referred to as a “mini-app”.\n              </p>\n              <p>\n                The following example creates a router as a module, loads a middleware function in it, defines\n                some routes, and mounts the router module on a path in the main app.\n                <br />\n                Create a router file named birds.js in the app directory, with the following content:\n              </p>\n              <div style={titles}>\n                <PrismCode\n                  code={exRouters}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n\n              <h3>Writing middleware for use in Express apps</h3>\n              <p>\n                Middleware functions are functions that have access to the request object (req), the response\n                object (res), and the next function in the application’s request-response cycle. The next\n                function is a function in the Express router which, when invoked, executes the middleware\n                succeeding the current middleware.\n              </p>\n              Middleware functions can perform the following tasks:\n              <ul>\n                <li>Execute any code.</li>\n                <li>Make changes to the request and the response objects.</li>\n                <li>End the request-response cycle.</li>\n                <li>Call the next middleware in the stack.</li>\n              </ul>\n              <p>\n                If the current middleware function does not end the request-response cycle, it must call next()\n                to pass control to the next middleware function. Otherwise, the request will be left hanging.\n              </p>\n              <div style={titles}>\n                <PrismCode\n                  code={middlewareRoutes}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n            </List>\n          </Paper>\n        </Grid>\n      </Grid>\n    )\n  }\n}\n\nexport default (withStyles(styles)(IntroAlgo));\n"]},"metadata":{},"sourceType":"module"}