{"ast":null,"code":"import _classCallCheck from\"/home/mukeshs/Projects/edurights/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/mukeshs/Projects/edurights/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/mukeshs/Projects/edurights/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/mukeshs/Projects/edurights/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/mukeshs/Projects/edurights/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Prism from\"prismjs\";import{Grid,Paper,withStyles,List}from\"@material-ui/core\";import'../../ReactJs/styles.css';import Sidebar from'../sidebar';import PrismCode from'../../ReactJs/prismCode';var titles={backgroundColor:'#F0F8FF',padding:'1px',fontSize:'16px'};var styles=function styles(theme){return{paper:{margin:theme.spacing(1),padding:theme.spacing(1)},smMargin:{margin:theme.spacing(1)},actionDiv:{textAlign:\"center\"}};};var outliers=\"\\nimport pandas as pd\\n\\ndf = pd.read_csv(\\\"heights.csv\\\")\\n\\nmin_thresold = df['height'].quantile(0.05)\\nmax_thresold = df['height'].quantile(0.95)\\nmin_thresold\\nmax_thresold\\n\\ndf[df['height']<min_thresold]\\ndf[df['height']>max_thresold]\\n\".trim();var removeOutliner=\"\\ndf[(df['height']<max_thresold) & (df['height']>min_thresold)]\\ndf = pd.read_csv(\\\"bhp.csv\\\")\\n\\n\\n#Explore samples that are above 99.90% and below 1% rank\\nmin_thresold, max_thresold = df.price_per_sqft.quantile([0.001, 0.999])\\nmin_thresold, max_thresold\\n\\ndf[df.price_per_sqft < min_thresold]\\ndf[df.price_per_sqft > max_thresold]\\n\\ndf2 = df[(df.price_per_sqft<max_thresold) & (df.price_per_sqft>min_thresold)]\\n\".trim();var pandasDes=\"\\nimport matplotlib\\nfrom matplotlib import pyplot as plt\\nfrom scipy.stats import norm\\n%matplotlib inline\\n\\nmatplotlib.rcParams['figure.figsize'] = (10,6)\\n\\ndf = pd.read_csv(\\\"heights.csv\\\")\\n\\nplt.hist(df.height, bins=20, rwidth=0.8)\\nplt.xlabel('Height (inches)')\\nplt.ylabel('Count')\\nplt.show()\\n\\n\\n#Plot bell curve along with histogram for dataset\\nplt.hist(df.height, bins=20, rwidth=0.8, density=True)\\nplt.xlabel('Height (inches)')\\nplt.ylabel('Count')\\n\\nrng = np.arange(df.height.min(), df.height.max(), 0.1)\\nplt.plot(rng, norm.pdf(rng,df.height.mean(),df.height.std()))\\n\\n\\ndf.height.mean()\\ndf.height.std()\\n\\n#Outlier detection and removal using 3 standard deviation.\\nupper_limit = df.height.mean() + 3*df.height.std()\\n\\nlower_limit = df.height.mean() -3*df.height.std()\\n\\ndf[(df.height>upper_limit) | (df.height<lower_limit)]\\n\".trim();var generateOutliner=\"\\ndf_no_outlier_std_dev = df[(df.height<upper_limit) & (df.height>lower_limit)]\\n\\ndf_no_outlier_std_dev.head()\\ndf_no_outlier_std_dev.shape\\n\".trim();var usingScore=\"\\ndf['zscore'] = ( df.height - df.height.mean() ) / df.height.std()\\n\\n#first record with height 73.84, z score is 1.94. Means 73.84 is 1.94 standard deviation away from mean.\\n(73.84-66.37)/3.84\\n\\n#Get data points that has z score higher than 3 or lower than -3. Another way of saying same thing is get data \\n#points that are more than 3 standard deviation away.\\ndf[df['zscore']>3]\\n\\ndf[df['zscore']<-3]\\n\\ndf[(df.zscore<-3) | (df.zscore>3)]                                                  #List of all outliers.\\n\".trim();var dataFrame=\"\\ndf_no_outliers = df[(df.zscore>-3) & (df.zscore<3)]\\n\\ndf_no_outliers.head()\\ndf_no_outliers.shape\\n\".trim();var detectionData=\"\\nimport pandas as pd\\ndf = pd.read_csv(\\\"heights.csv\\\")\\n\\n\\n#Detect outliers using IQR\\nQ1 = df.height.quantile(0.25)\\nQ3 = df.height.quantile(0.75)\\n\\nIQR = Q3 - Q1\\n\\nlower_limit = Q1 - 1.5*IQR\\nupper_limit = Q3 + 1.5*IQR\\nlower_limit, upper_limit\\n\\ndf[(df.height<lower_limit)|(df.height>upper_limit)]                                 #Outliers\\n\\ndf_no_outlier = df[(df.height>lower_limit)&(df.height<upper_limit)]                 #Remove outliers\\ndf_no_outlier\\n\".trim();var FeaturesEng=/*#__PURE__*/function(_Component){_inherits(FeaturesEng,_Component);function FeaturesEng(){_classCallCheck(this,FeaturesEng);return _possibleConstructorReturn(this,_getPrototypeOf(FeaturesEng).apply(this,arguments));}_createClass(FeaturesEng,[{key:\"componentDidMount\",value:function componentDidMount(){setTimeout(function(){return Prism.highlightAll();},0);}},{key:\"render\",value:function render(){var classes=this.props.classes;return React.createElement(Grid,{container:true},React.createElement(Grid,{item:true,xs:2},React.createElement(Paper,{className:classes.paper},React.createElement(\"h4\",null,React.createElement(Sidebar,null)))),React.createElement(Grid,{item:true,xs:10},React.createElement(Paper,{className:classes.paper},React.createElement(List,null,React.createElement(\"h3\",null,\"Feature engineering\"),React.createElement(\"ul\",null,React.createElement(\"li\",null,\"Feature engineering is the process of using domain knowledge of the data to create features that make ML algorithms work. If feature engineering is done correctly, it increases the predictive power of ML algorithms by creating features from raw data that help facilitate the ML process.\"),React.createElement(\"li\",null,\"Feature engineering creates the huge difference between a good model and a bad model.\")),React.createElement(\"br\",null),\"Suppose, we are given a data \\u201Cflight date time vs status\\u201D. Then, given the date-time data, we have to predict the status of the flight.\",React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"table\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"S No.\"),React.createElement(\"th\",null,\"Date Time\"),React.createElement(\"th\",null,\"Status\")),React.createElement(\"tr\",null,React.createElement(\"td\",null,\"0\"),React.createElement(\"td\",null,\"2018-02-14 20:40\"),React.createElement(\"td\",null,\"Delayed\")),React.createElement(\"tr\",null,React.createElement(\"td\",null,\"1\"),React.createElement(\"td\",null,\"2018-02-15 10:30\"),React.createElement(\"td\",null,\"On Time\")),React.createElement(\"tr\",null,React.createElement(\"td\",null,\"2\"),React.createElement(\"td\",null,\"2018-02-14 07:40\"),React.createElement(\"td\",null,\"On Time\")),React.createElement(\"tr\",null,React.createElement(\"td\",null,\"3\"),React.createElement(\"td\",null,\"2018-02-15 18:10\"),React.createElement(\"td\",null,\"Delayed\")),React.createElement(\"tr\",null,React.createElement(\"td\",null,\"4\"),React.createElement(\"td\",null,\"2018-02-14 10:20\"),React.createElement(\"td\",null,\"On Time\"))),React.createElement(\"br\",null),React.createElement(\"br\",null),\"As the status of the flight depends on the hour of the day, not on the date-time. We will create the new feature \\u201CHour_Of_Day\\u201D. Using the \\u201CHour_Of_Day\\u201D feature, the machine will learn better as this feature is directly related to the status of the flight.\",React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"table\",null,React.createElement(\"tr\",null,React.createElement(\"th\",null,\"S No.\"),React.createElement(\"th\",null,\"Hour Of Day\"),React.createElement(\"th\",null,\"Status\")),React.createElement(\"tr\",null,React.createElement(\"td\",null,\"0\"),React.createElement(\"td\",null,\"20\"),React.createElement(\"td\",null,\"Delayed\")),React.createElement(\"tr\",null,React.createElement(\"td\",null,\"1\"),React.createElement(\"td\",null,\"10\"),React.createElement(\"td\",null,\"On Time\")),React.createElement(\"tr\",null,React.createElement(\"td\",null,\"2\"),React.createElement(\"td\",null,\"7\"),React.createElement(\"td\",null,\"On Time\")),React.createElement(\"tr\",null,React.createElement(\"td\",null,\"3\"),React.createElement(\"td\",null,\"18\"),React.createElement(\"td\",null,\"Delayed\")),React.createElement(\"tr\",null,React.createElement(\"td\",null,\"4\"),React.createElement(\"td\",null,\"10\"),React.createElement(\"td\",null,\"On Time\"))),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"i\",null,\"Here, creating the new feature \\u201CHour_Of_Day\\u201D is the feature engineering.\"),React.createElement(\"br\",null),React.createElement(\"h3\",null,\"Detect outliers using percentile\"),React.createElement(\"div\",{style:titles},React.createElement(PrismCode,{code:outliers,language:\"js\",plugins:[\"line-numbers\"]})),React.createElement(\"br\",null),React.createElement(\"h3\",null,\"Remove outliers\"),React.createElement(\"div\",{style:titles},React.createElement(PrismCode,{code:removeOutliner,language:\"js\",plugins:[\"line-numbers\"]})),React.createElement(\"br\",null),React.createElement(\"h3\",null,\"Outlier detection and removal using z-score and standard deviation in python pandas\"),\"We are going to use heights dataset from kaggle.com. Dataset has heights and weights both but I have removed weights to make it simple.\",React.createElement(\"div\",{style:titles},React.createElement(PrismCode,{code:pandasDes,language:\"js\",plugins:[\"line-numbers\"]})),React.createElement(\"br\",null),React.createElement(\"i\",null,\"Above the heights on higher end is \",React.createElement(\"b\",null,\"78 inch which is around 6 ft 6 inch (unusual height)\"),\". It is ok to remove those data points. Similarly on lower end it is \",React.createElement(\"b\",null,\"54 inch = 4 ft 6 inch\"),\". So it is safe to consider both of these cases as outliers\"),React.createElement(\"br\",null),React.createElement(\"br\",null),React.createElement(\"h3\",null,\"Now remove these outliers and generate new dataframe\"),React.createElement(\"div\",{style:titles},React.createElement(PrismCode,{code:generateOutliner,language:\"js\",plugins:[\"line-numbers\"]})),React.createElement(\"i\",null,\"Above shows original dataframe data 10000 data points. Out of that we removed 7 outliers (i.e. 10000-9993).\"),React.createElement(\"br\",null),React.createElement(\"h3\",null,\"Outlier detection and removal using Z Score\"),React.createElement(\"ul\",null,React.createElement(\"li\",null,\"Z score is a way to achieve same thing that we did above.\"),React.createElement(\"li\",null,\"Z score indicates how many standard deviation away a data point is.\"),React.createElement(\"li\",null,\"For example in our case mean is 66.37 and standard deviation is 3.84.\"),React.createElement(\"li\",null,\"If a value of a data point is 77.91 then Z score for that is 3 because it is 3 standard deviation away (77.91 = 66.37 + 3 * 3.84).\")),React.createElement(\"br\",null),React.createElement(\"div\",{style:titles},React.createElement(PrismCode,{code:usingScore,language:\"js\",plugins:[\"line-numbers\"]})),React.createElement(\"br\",null),React.createElement(\"h3\",null,\"Remove the outliers and produce new dataframe\"),React.createElement(\"div\",{style:titles},React.createElement(PrismCode,{code:dataFrame,language:\"js\",plugins:[\"line-numbers\"]})),React.createElement(\"br\",null),React.createElement(\"h3\",null,\"Outlier Detection and Removal Using IQR\"),React.createElement(\"div\",{style:titles},React.createElement(PrismCode,{code:detectionData,language:\"js\",plugins:[\"line-numbers\"]}))))));}}]);return FeaturesEng;}(Component);export default withStyles(styles)(FeaturesEng);","map":{"version":3,"sources":["/home/mukeshs/Projects/edurights/src/components/ml/deepMl/featuresEng.js"],"names":["React","Component","Prism","Grid","Paper","withStyles","List","Sidebar","PrismCode","titles","backgroundColor","padding","fontSize","styles","theme","paper","margin","spacing","smMargin","actionDiv","textAlign","outliers","trim","removeOutliner","pandasDes","generateOutliner","usingScore","dataFrame","detectionData","FeaturesEng","setTimeout","highlightAll","classes","props"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Prism from \"prismjs\"\nimport { Grid, Paper, withStyles, List } from \"@material-ui/core\";\n\nimport '../../ReactJs/styles.css'\nimport Sidebar from '../sidebar';\nimport PrismCode from '../../ReactJs/prismCode';\n\n\nconst titles = { backgroundColor: '#F0F8FF', padding: '1px', fontSize: '16px' }\n\nconst styles = theme => ({\n  paper: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1)\n  },\n  smMargin: {\n    margin: theme.spacing(1)\n  },\n  actionDiv: {\n    textAlign: \"center\"\n  }\n})\n\n\nconst outliers = `\nimport pandas as pd\n\ndf = pd.read_csv(\"heights.csv\")\n\nmin_thresold = df['height'].quantile(0.05)\nmax_thresold = df['height'].quantile(0.95)\nmin_thresold\nmax_thresold\n\ndf[df['height']<min_thresold]\ndf[df['height']>max_thresold]\n`.trim();\n\nconst removeOutliner = `\ndf[(df['height']<max_thresold) & (df['height']>min_thresold)]\ndf = pd.read_csv(\"bhp.csv\")\n\n\n#Explore samples that are above 99.90% and below 1% rank\nmin_thresold, max_thresold = df.price_per_sqft.quantile([0.001, 0.999])\nmin_thresold, max_thresold\n\ndf[df.price_per_sqft < min_thresold]\ndf[df.price_per_sqft > max_thresold]\n\ndf2 = df[(df.price_per_sqft<max_thresold) & (df.price_per_sqft>min_thresold)]\n`.trim();\n\nconst pandasDes = `\nimport matplotlib\nfrom matplotlib import pyplot as plt\nfrom scipy.stats import norm\n%matplotlib inline\n\nmatplotlib.rcParams['figure.figsize'] = (10,6)\n\ndf = pd.read_csv(\"heights.csv\")\n\nplt.hist(df.height, bins=20, rwidth=0.8)\nplt.xlabel('Height (inches)')\nplt.ylabel('Count')\nplt.show()\n\n\n#Plot bell curve along with histogram for dataset\nplt.hist(df.height, bins=20, rwidth=0.8, density=True)\nplt.xlabel('Height (inches)')\nplt.ylabel('Count')\n\nrng = np.arange(df.height.min(), df.height.max(), 0.1)\nplt.plot(rng, norm.pdf(rng,df.height.mean(),df.height.std()))\n\n\ndf.height.mean()\ndf.height.std()\n\n#Outlier detection and removal using 3 standard deviation.\nupper_limit = df.height.mean() + 3*df.height.std()\n\nlower_limit = df.height.mean() -3*df.height.std()\n\ndf[(df.height>upper_limit) | (df.height<lower_limit)]\n`.trim();\n\nconst generateOutliner = `\ndf_no_outlier_std_dev = df[(df.height<upper_limit) & (df.height>lower_limit)]\n\ndf_no_outlier_std_dev.head()\ndf_no_outlier_std_dev.shape\n`.trim();\n\nconst usingScore = `\ndf['zscore'] = ( df.height - df.height.mean() ) / df.height.std()\n\n#first record with height 73.84, z score is 1.94. Means 73.84 is 1.94 standard deviation away from mean.\n(73.84-66.37)/3.84\n\n#Get data points that has z score higher than 3 or lower than -3. Another way of saying same thing is get data \n#points that are more than 3 standard deviation away.\ndf[df['zscore']>3]\n\ndf[df['zscore']<-3]\n\ndf[(df.zscore<-3) | (df.zscore>3)]                                                  #List of all outliers.\n`.trim();\n\nconst dataFrame = `\ndf_no_outliers = df[(df.zscore>-3) & (df.zscore<3)]\n\ndf_no_outliers.head()\ndf_no_outliers.shape\n`.trim();\n\nconst detectionData = `\nimport pandas as pd\ndf = pd.read_csv(\"heights.csv\")\n\n\n#Detect outliers using IQR\nQ1 = df.height.quantile(0.25)\nQ3 = df.height.quantile(0.75)\n\nIQR = Q3 - Q1\n\nlower_limit = Q1 - 1.5*IQR\nupper_limit = Q3 + 1.5*IQR\nlower_limit, upper_limit\n\ndf[(df.height<lower_limit)|(df.height>upper_limit)]                                 #Outliers\n\ndf_no_outlier = df[(df.height>lower_limit)&(df.height<upper_limit)]                 #Remove outliers\ndf_no_outlier\n`.trim();\n\n\nclass FeaturesEng extends Component {\n  componentDidMount() {\n    setTimeout(() => Prism.highlightAll(), 0)\n  }\n  render() {\n    const { classes } = this.props;\n    return (\n      <Grid container>\n        <Grid item xs={2}>\n          <Paper className={classes.paper}>\n            <h4><Sidebar /></h4>\n          </Paper>\n        </Grid>\n        <Grid item xs={10}>\n          <Paper className={classes.paper}>\n            <List>\n              <h3>Feature engineering</h3>\n              <ul>\n                <li>Feature engineering is the process of using domain knowledge of the data to create features that make ML\n                  algorithms work. If feature engineering is done correctly, it increases the predictive power of ML\n                  algorithms by creating features from raw data that help facilitate the ML process.</li>\n                <li>Feature engineering creates the huge difference between a good model and a bad model.</li>\n              </ul>\n              <br />\n              Suppose, we are given a data “flight date time vs status”. Then, given the date-time data, we have to predict\n              the status of the flight.\n              <br />\n              <br />\n\n              <table>\n                <tr>\n                  <th>S No.</th>\n                  <th>Date Time</th>\n                  <th>Status</th>\n                </tr>\n                <tr>\n                  <td>0</td>\n                  <td>2018-02-14 20:40</td>\n                  <td>Delayed</td>\n                </tr>\n                <tr>\n                  <td>1</td>\n                  <td>2018-02-15 10:30</td>\n                  <td>On Time</td>\n                </tr>\n                <tr>\n                  <td>2</td>\n                  <td>2018-02-14 07:40</td>\n                  <td>On Time</td>\n                </tr>\n                <tr>\n                  <td>3</td>\n                  <td>2018-02-15 18:10</td>\n                  <td>Delayed</td>\n                </tr>\n                <tr>\n                  <td>4</td>\n                  <td>2018-02-14 10:20</td>\n                  <td>On Time</td>\n                </tr>\n              </table>\n              <br />\n              <br />\n              As the status of the flight depends on the hour of the day, not on the date-time. We will create the new feature\n              “Hour_Of_Day”. Using the “Hour_Of_Day” feature, the machine will learn better as this feature is directly related\n              to the status of the flight.\n              <br />\n              <br />\n\n              <table>\n                <tr>\n                  <th>S No.</th>\n                  <th>Hour Of Day</th>\n                  <th>Status</th>\n                </tr>\n                <tr>\n                  <td>0</td>\n                  <td>20</td>\n                  <td>Delayed</td>\n                </tr>\n                <tr>\n                  <td>1</td>\n                  <td>10</td>\n                  <td>On Time</td>\n                </tr>\n                <tr>\n                  <td>2</td>\n                  <td>7</td>\n                  <td>On Time</td>\n                </tr>\n                <tr>\n                  <td>3</td>\n                  <td>18</td>\n                  <td>Delayed</td>\n                </tr>\n                <tr>\n                  <td>4</td>\n                  <td>10</td>\n                  <td>On Time</td>\n                </tr>\n              </table>\n              <br />\n              <br />\n              <i>Here, creating the new feature “Hour_Of_Day” is the feature engineering.</i>\n              <br />\n\n              <h3>Detect outliers using percentile</h3>\n              <div style={titles}>\n                <PrismCode\n                  code={outliers}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n\n              <h3>Remove outliers</h3>\n              <div style={titles}>\n                <PrismCode\n                  code={removeOutliner}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n\n              <h3>Outlier detection and removal using z-score and standard deviation in python pandas</h3>\n              We are going to use heights dataset from kaggle.com. Dataset has heights and weights both but I have removed weights to make it simple.\n              <div style={titles}>\n                <PrismCode\n                  code={pandasDes}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n              <i>Above the heights on higher end is <b>78 inch which is around 6 ft 6 inch (unusual height)</b>. It is ok to remove those data points.\n                Similarly on lower end it is <b>54 inch = 4 ft 6 inch</b>. So it is safe to consider both of these cases as outliers</i>\n              <br />\n              <br />\n\n              <h3>Now remove these outliers and generate new dataframe</h3>\n              <div style={titles}>\n                <PrismCode\n                  code={generateOutliner}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <i>Above shows original dataframe data 10000 data points. Out of that we removed 7 outliers (i.e. 10000-9993).</i>\n              <br />\n\n              <h3>Outlier detection and removal using Z Score</h3>\n              <ul>\n                <li>Z score is a way to achieve same thing that we did above.</li>\n                <li>Z score indicates how many standard deviation away a data point is.</li>\n                <li>For example in our case mean is 66.37 and standard deviation is 3.84.</li>\n                <li>If a value of a data point is 77.91 then Z score for that is 3 because it is 3 standard deviation away (77.91 = 66.37 + 3 * 3.84).</li>\n              </ul>\n              <br />\n\n              <div style={titles}>\n                <PrismCode\n                  code={usingScore}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n\n              <h3>Remove the outliers and produce new dataframe</h3>\n              <div style={titles}>\n                <PrismCode\n                  code={dataFrame}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n\n              <h3>Outlier Detection and Removal Using IQR</h3>\n              <div style={titles}>\n                <PrismCode\n                  code={detectionData}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n            </List>\n          </Paper>\n        </Grid>\n      </Grid>\n    )\n  }\n}\n\nexport default (withStyles(styles)(FeaturesEng));\n"]},"metadata":{},"sourceType":"module"}