{"ast":null,"code":"var _jsxFileName = \"/home/mukeshs/Projects/edurights/client/src/components/angularjsd/angular 12/dynamicallyLoad.js\";\nimport React, { Component } from 'react';\nimport Prism from \"prismjs\";\nimport { Grid, Paper, withStyles, List } from \"@material-ui/core\";\nimport '../../ReactJs/styles.css';\nimport Sidebar from '../sidebar';\nimport PrismCode from '../../ReactJs/prismCode';\nimport Theata from '../../../assets/customElement.png';\nimport CustomElement from '../../../assets/create.png';\nconst titles = {\n  backgroundColor: '#F0F8FF',\n  padding: '1px',\n  fontSize: '16px'\n};\n\nconst styles = theme => ({\n  paper: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1)\n  },\n  smMargin: {\n    margin: theme.spacing(1)\n  },\n  actionDiv: {\n    textAlign: \"center\"\n  }\n});\n\nconst dynamically = `\n//in app.module.ts\nentryComponents: [Child, StudentInfoComponent]\n\n\n//childs.ts\n@Component({\n  selector: 'app-childs',\n  template: 'Child'\n})\nexport class Child {\n  message: string;\n  constructor() { }\n\n  ngOnInit() {\n    alert('Child Call', this.message);\n  }\n}\n\n\n//student-info.ts\n@Component({\n  selector: 'app-student-info',\n  template: 'Student',\n})\nexport class StudentInfoComponent implements OnInit {\n  message: string;\n  constructor() { }\n\n  ngOnInit() {\n    alert('Student Called', this.message);\n  }\n}\n\n\n//app.component.ts\nimport { Component, ViewChild, ViewContainerRef, ComponentFactoryResolver, ComponentRef,\n  ComponentFactory } from '@angular/core';\nimport { Child } from './childs';\nimport { StudentInfoComponent } from './student-info';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n\n})\nexport class AppComponent {\n  componentRef: any;\n  @ViewChild('loadComponent', {read: ViewContainerRef}) entry: ViewContainerRef;\n  constructor(private resolver: ComponentFactoryResolver) { }\n  createComponent(Id: number) {\n    this.entry.clear();\n    if (Id == 1) {\n      const factory = this.resolver.resolveComponentFactory(StudentInfoComponent);\n      this.componentRef = this.entry.createComponent(factory);\n    } else if (Id == 2) {\n      const factory = this.resolver.resolveComponentFactory(Child);\n      this.componentRef = this.entry.createComponent(factory);\n    }\n    this.componentRef.instance.message = \"Called by appComponent\";\n  }\n  destroyComponent() {\n    this.componentRef.destroy();\n  }\n  data = [\n    { \"Id\": 1, \"Name\": \"Student Info\" },\n    { \"Id\": 2, \"Name\": \"Parent Info\" }\n  ]\n  selectName(id : number) {\n    this.createComponent(id);\n  }\n}\n`.trim();\nconst blocking = `\n//app.component.ts\nimport { environment } from '../environments/environment';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n\n  title = 'my-web-worker-app';\n  selectedColour: string;\n  result: any;\n  colourArr = ['#9999ff', '#00aaff', '#008000', '#b33c00', '#663300', '#cc3399'];\n  isBusy = false;\n  cpuWorker: any;\n\n  constructor() {\n  }\n\n  changeColor(color: string) {\n    this.selectedColour = color;\n  }\n\n  cpuIntensiveWork() {\n    this.isBusy = true;\n    const start = new Date().getTime();\n    let calResult = 0;\n    for (let i = Math.pow(environment.baseNumber, 7); i >= 0; i--) {\n      calResult += Math.atan(i) * Math.tan(i);\n    };\n\n    let elapsed = new Date().getTime() - start;\n    const milliseconds = (elapsed % 1000) / 100;\n    const seconds = Math.floor((elapsed / 1000) % 60);\n    const minutes = Math.floor((elapsed / (1000 * 60)) % 60);\n    this.result = {'TimeElapsed': ''$'{ minutes }m, '$'{ seconds }s, '$'{ milliseconds }ms', 'output': calResult};\n    this.isBusy = false;\n  }\n}\n\n\n\n//app.component.html\n<div class=\"container pt-4 mt-4\">\n    <div class=\"row\">\n        <div class=\"col\">\n            <div class=\"row\">\n                <div id='colorDiv' [ngStyle]=\"{'background-color':selectedColour}\"></div>\n            </div>\n            <div class=\"row\">\n                <span [style.color]=selectedColour>{{selectedColour}}</span>\n            </div>\n            <div class=\"row pt-4\">\n                <div class=\"dropdown show\">\n                    <a class=\"btn btn-primary btn-lg dropdown-toggle\" role=\"button\" id=\"dropdownMenuLink\" \n                    data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                        Pick colour\n                        </a>\n                    <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\n                        <a *ngFor=\" let colour of colourArr\" (click)=\"changeColor(colour)\" class=\"dropdown-item\">\n                            <div class=\"drpDwnItem\" [style.background-color]=colour>\n                                <span [style.color]=colour>{{colour}}</span>\n                            </div>\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"col\">\n            <div class=\"row\">\n                <button class=\"btn btn-primary btn-lg\" (click)=\"cpuIntensiveWork()\"> CPU Intensive Work\n                        <i *ngIf=\"isBusy\" class=\"fa fa-spinner fa-spin fa-2x fa-fw\"></i>\n                </button>\n            </div>\n            <ng-container *ngIf=\"result\">\n                <div class=\"row pt-4\">\n                    <h1 class=\"display-4\">{{result.TimeElapsed}}</h1>\n                </div>\n                <div class=\"row\">\n                    <h1 class=\"display-4\">{{result.output}}</h1>\n                </div>\n            </ng-container>\n        </div>\n    </div>\n</div>\n`.trim();\nconst nonBlocking = `\n//app.component.ts\nimport { Component, OnInit } from '@angular/core';\nimport { environment } from '../environments/environment';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n\n  title = 'my-web-worker-app';\n  selectedColour: string;\n  result: any;\n  colourArr = ['#9999ff', '#00aaff', '#008000', '#b33c00', '#663300', '#cc3399'];\n  isBusy = false;\n  cpuWorker: any;\n\n  constructor() {\n    this.intializeWorker();\n  }\n\n  intializeWorker() {\n    if (typeof Worker !== 'undefined') {\n      if (!this.cpuWorker) {\n        this.cpuWorker = new Worker('./worker/cpu.worker',\n          { type: \"module\" });\n      }\n    } else {\n      // Web workers are not supported in this environment.\n      // You should add a fallback so that your\n      // program still executes correctly.\n    }\n  }\n\n  cpuIntensiveWork() {\n    this.cpuWorker.postMessage('Message from main thread.');\n    // listen back from worker\n    this.cpuWorker.addEventListener('message', ({data}) => {\n      this.result = data;\n    });\n  }\n\n  changeColor(color: string) {\n    this.selectedColour = color;\n  }\n}\n\n\n//app.component.html\n<div class=\"container pt-4 mt-4\">\n    <div class=\"row\">\n        <div class=\"col\">\n            <div class=\"row\">\n                <div id='colorDiv' [ngStyle]=\"{'background-color':selectedColour}\"></div>\n            </div>\n            <div class=\"row\">\n                <span [style.color]=selectedColour>{{selectedColour}}</span>\n            </div>\n            <div class=\"row pt-4\">\n                <div class=\"dropdown show\">\n                    <a class=\"btn btn-primary btn-lg dropdown-toggle\" role=\"button\" id=\"dropdownMenuLink\" \n                    data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                        Pick colour\n                        </a>\n                    <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\n                        <a *ngFor=\" let colour of colourArr\" (click)=\"changeColor(colour)\" class=\"dropdown-item\">\n                            <div class=\"drpDwnItem\" [style.background-color]=colour>\n                                <span [style.color]=colour>{{colour}}</span>\n                            </div>\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"col\">\n            <div class=\"row\">\n                <button class=\"btn btn-primary btn-lg\" (click)=\"cpuIntensiveWork()\"> CPU Intensive Work\n                        <i *ngIf=\"isBusy\" class=\"fa fa-spinner fa-spin fa-2x fa-fw\"></i>\n                </button>\n            </div>\n            <ng-container *ngIf=\"result\">\n                <div class=\"row pt-4\">\n                    <h1 class=\"display-4\">{{result.TimeElapsed}}</h1>\n                </div>\n                <div class=\"row\">\n                    <h1 class=\"display-4\">{{result.output}}</h1>\n                </div>\n            </ng-container>\n        </div>\n    </div>\n</div>\n\n\n\n//worker/cpu.worker.ts\nimport { environment } from \"../../environments/environment\";\n\naddEventListener('message', ({data}) => {\n  const result = cpuIntensiveWork();\n  postMessage(result);\n});\n\nconst cpuIntensiveWork = function () {\n  const start = new Date().getTime();\n  let calResult = 0;\n  for (let i = Math.pow(environment.baseNumber, 7); i >= 0; i--) {\n    calResult += Math.atan(i) * Math.tan(i);\n  };\n\n  let elapsed = new Date().getTime() - start;\n  const milliseconds = (elapsed % 1000) / 100;\n  const seconds = Math.floor((elapsed / 1000) % 60);\n  const minutes = Math.floor((elapsed / (1000 * 60)) % 60);\n  const result = {'TimeElapsed': ''$'{ minutes }m, '$'{ seconds }s, '$'{ milliseconds }ms', 'output': calResult};\n  return result;\n}\n`.trim();\nconst ViewContainerRef = `let componentRef = viewContainerRef.createComponent(componentFactory);`.trim();\n\nclass DynamicallyLoad extends Component {\n  componentDidMount() {\n    setTimeout(() => Prism.highlightAll(), 0);\n  }\n\n  render() {\n    const {\n      classes\n    } = this.props;\n    return React.createElement(Grid, {\n      container: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 320\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }, React.createElement(\"h4\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    }, React.createElement(Sidebar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 323\n      },\n      __self: this\n    })))), React.createElement(Grid, {\n      item: true,\n      xs: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }, React.createElement(Paper, {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327\n      },\n      __self: this\n    }, React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329\n      },\n      __self: this\n    }, \"Dynamically Load Component\"), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 330\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 332\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 333\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    })), \"Dynamic components are the components in which components location in the application is not defined at build time.i.e, They are not used in any angular template. But the component is instantiated and placed in the application at runtime.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340\n      },\n      __self: this\n    }), \"Mainly, in the component template, a component is loaded using the component selector at angular compile time. The component can also be loaded dynamically at runtime with the help of ComponentFactory, ComponentFactoryResolver, and ViewContainerRef.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 345\n      },\n      __self: this\n    }), \"Those components which need to be loaded dynamically must also be configured in entryComponents metadata of @NgModule decorator. To load a dynamic component in a template we required an insert location and to get it we need ViewContainerRef of a decorator or a component.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350\n      },\n      __self: this\n    }), \"ComponentFactory is used to create an instance of components where ComponentFactoryResolver resolves a ComponentFactory for a particular component. It is used as follows.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 354\n      },\n      __self: this\n    }), React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }, \"let componentFactory = this.componentFactoryResolver.resolveComponentFactory(component);\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 357\n      },\n      __self: this\n    }), React.createElement(\"b\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }, \"ViewContainerRef\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 358\n      },\n      __self: this\n    }), React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 359\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 360\n      },\n      __self: this\n    }, \"ViewContainerRef represents a container where we can attach one or more views to a component and also show an API to create components. Some important methods of ViewContainerRef are:\", React.createElement(\"ul\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 362\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }, \"createEmbeddedView()\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364\n      },\n      __self: this\n    }, \"clear()\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 365\n      },\n      __self: this\n    }, \"get()\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 366\n      },\n      __self: this\n    }, \"insert()\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 367\n      },\n      __self: this\n    }, \"move()\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368\n      },\n      __self: this\n    }, \"createComponent()\"))), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 371\n      },\n      __self: this\n    }), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 373\n      },\n      __self: this\n    }, \"CreateEmbeddedView() instantiates an embedded view and inserts it into container.\"), React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374\n      },\n      __self: this\n    }, \"createComponent() instantiates a single component and inserts its host view into the container at a specified index.\")), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 377\n      },\n      __self: this\n    }), \"In dynamic component loader, load component using createComponent() of ViewContainerRef.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 379\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 380\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 381\n      },\n      __self: this\n    }, React.createElement(PrismCode, {\n      code: ViewContainerRef,\n      language: \"js\",\n      plugins: [\"line-numbers\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 382\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388\n      },\n      __self: this\n    }), \"clear() method of ViewContainerRef destroys all existing views in the container.\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 391\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      style: titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 392\n      },\n      __self: this\n    }, React.createElement(PrismCode, {\n      code: dynamically,\n      language: \"js\",\n      plugins: [\"line-numbers\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 393\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 399\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 401\n      },\n      __self: this\n    }, \"Web-Worker (Blocking UI)\"), React.createElement(\"div\", {\n      style: titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 402\n      },\n      __self: this\n    }, React.createElement(PrismCode, {\n      code: blocking,\n      language: \"js\",\n      plugins: [\"line-numbers\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 403\n      },\n      __self: this\n    })), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 409\n      },\n      __self: this\n    }), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 411\n      },\n      __self: this\n    }, \"Web-Worker (Non-Blocking UI)\"), React.createElement(\"div\", {\n      style: titles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412\n      },\n      __self: this\n    }, React.createElement(PrismCode, {\n      code: nonBlocking,\n      language: \"js\",\n      plugins: [\"line-numbers\"],\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 413\n      },\n      __self: this\n    }))))));\n  }\n\n}\n\nexport default withStyles(styles)(DynamicallyLoad);","map":{"version":3,"sources":["/home/mukeshs/Projects/edurights/client/src/components/angularjsd/angular 12/dynamicallyLoad.js"],"names":["React","Component","Prism","Grid","Paper","withStyles","List","Sidebar","PrismCode","Theata","CustomElement","titles","backgroundColor","padding","fontSize","styles","theme","paper","margin","spacing","smMargin","actionDiv","textAlign","dynamically","trim","blocking","nonBlocking","ViewContainerRef","DynamicallyLoad","componentDidMount","setTimeout","highlightAll","render","classes","props"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Prism from \"prismjs\"\nimport { Grid, Paper, withStyles, List } from \"@material-ui/core\";\n\nimport '../../ReactJs/styles.css'\nimport Sidebar from '../sidebar';\nimport PrismCode from '../../ReactJs/prismCode';\nimport Theata from '../../../assets/customElement.png';\nimport CustomElement from '../../../assets/create.png';\n\n\nconst titles = { backgroundColor: '#F0F8FF', padding: '1px', fontSize: '16px' }\n\nconst styles = theme => ({\n  paper: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1)\n  },\n  smMargin: {\n    margin: theme.spacing(1)\n  },\n  actionDiv: {\n    textAlign: \"center\"\n  }\n})\n\n\nconst dynamically = `\n//in app.module.ts\nentryComponents: [Child, StudentInfoComponent]\n\n\n//childs.ts\n@Component({\n  selector: 'app-childs',\n  template: 'Child'\n})\nexport class Child {\n  message: string;\n  constructor() { }\n\n  ngOnInit() {\n    alert('Child Call', this.message);\n  }\n}\n\n\n//student-info.ts\n@Component({\n  selector: 'app-student-info',\n  template: 'Student',\n})\nexport class StudentInfoComponent implements OnInit {\n  message: string;\n  constructor() { }\n\n  ngOnInit() {\n    alert('Student Called', this.message);\n  }\n}\n\n\n//app.component.ts\nimport { Component, ViewChild, ViewContainerRef, ComponentFactoryResolver, ComponentRef,\n  ComponentFactory } from '@angular/core';\nimport { Child } from './childs';\nimport { StudentInfoComponent } from './student-info';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n\n})\nexport class AppComponent {\n  componentRef: any;\n  @ViewChild('loadComponent', {read: ViewContainerRef}) entry: ViewContainerRef;\n  constructor(private resolver: ComponentFactoryResolver) { }\n  createComponent(Id: number) {\n    this.entry.clear();\n    if (Id == 1) {\n      const factory = this.resolver.resolveComponentFactory(StudentInfoComponent);\n      this.componentRef = this.entry.createComponent(factory);\n    } else if (Id == 2) {\n      const factory = this.resolver.resolveComponentFactory(Child);\n      this.componentRef = this.entry.createComponent(factory);\n    }\n    this.componentRef.instance.message = \"Called by appComponent\";\n  }\n  destroyComponent() {\n    this.componentRef.destroy();\n  }\n  data = [\n    { \"Id\": 1, \"Name\": \"Student Info\" },\n    { \"Id\": 2, \"Name\": \"Parent Info\" }\n  ]\n  selectName(id : number) {\n    this.createComponent(id);\n  }\n}\n`.trim();\n\nconst blocking = `\n//app.component.ts\nimport { environment } from '../environments/environment';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n\n  title = 'my-web-worker-app';\n  selectedColour: string;\n  result: any;\n  colourArr = ['#9999ff', '#00aaff', '#008000', '#b33c00', '#663300', '#cc3399'];\n  isBusy = false;\n  cpuWorker: any;\n\n  constructor() {\n  }\n\n  changeColor(color: string) {\n    this.selectedColour = color;\n  }\n\n  cpuIntensiveWork() {\n    this.isBusy = true;\n    const start = new Date().getTime();\n    let calResult = 0;\n    for (let i = Math.pow(environment.baseNumber, 7); i >= 0; i--) {\n      calResult += Math.atan(i) * Math.tan(i);\n    };\n\n    let elapsed = new Date().getTime() - start;\n    const milliseconds = (elapsed % 1000) / 100;\n    const seconds = Math.floor((elapsed / 1000) % 60);\n    const minutes = Math.floor((elapsed / (1000 * 60)) % 60);\n    this.result = {'TimeElapsed': ''$'{ minutes }m, '$'{ seconds }s, '$'{ milliseconds }ms', 'output': calResult};\n    this.isBusy = false;\n  }\n}\n\n\n\n//app.component.html\n<div class=\"container pt-4 mt-4\">\n    <div class=\"row\">\n        <div class=\"col\">\n            <div class=\"row\">\n                <div id='colorDiv' [ngStyle]=\"{'background-color':selectedColour}\"></div>\n            </div>\n            <div class=\"row\">\n                <span [style.color]=selectedColour>{{selectedColour}}</span>\n            </div>\n            <div class=\"row pt-4\">\n                <div class=\"dropdown show\">\n                    <a class=\"btn btn-primary btn-lg dropdown-toggle\" role=\"button\" id=\"dropdownMenuLink\" \n                    data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                        Pick colour\n                        </a>\n                    <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\n                        <a *ngFor=\" let colour of colourArr\" (click)=\"changeColor(colour)\" class=\"dropdown-item\">\n                            <div class=\"drpDwnItem\" [style.background-color]=colour>\n                                <span [style.color]=colour>{{colour}}</span>\n                            </div>\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"col\">\n            <div class=\"row\">\n                <button class=\"btn btn-primary btn-lg\" (click)=\"cpuIntensiveWork()\"> CPU Intensive Work\n                        <i *ngIf=\"isBusy\" class=\"fa fa-spinner fa-spin fa-2x fa-fw\"></i>\n                </button>\n            </div>\n            <ng-container *ngIf=\"result\">\n                <div class=\"row pt-4\">\n                    <h1 class=\"display-4\">{{result.TimeElapsed}}</h1>\n                </div>\n                <div class=\"row\">\n                    <h1 class=\"display-4\">{{result.output}}</h1>\n                </div>\n            </ng-container>\n        </div>\n    </div>\n</div>\n`.trim();\n\nconst nonBlocking = `\n//app.component.ts\nimport { Component, OnInit } from '@angular/core';\nimport { environment } from '../environments/environment';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent {\n\n  title = 'my-web-worker-app';\n  selectedColour: string;\n  result: any;\n  colourArr = ['#9999ff', '#00aaff', '#008000', '#b33c00', '#663300', '#cc3399'];\n  isBusy = false;\n  cpuWorker: any;\n\n  constructor() {\n    this.intializeWorker();\n  }\n\n  intializeWorker() {\n    if (typeof Worker !== 'undefined') {\n      if (!this.cpuWorker) {\n        this.cpuWorker = new Worker('./worker/cpu.worker',\n          { type: \"module\" });\n      }\n    } else {\n      // Web workers are not supported in this environment.\n      // You should add a fallback so that your\n      // program still executes correctly.\n    }\n  }\n\n  cpuIntensiveWork() {\n    this.cpuWorker.postMessage('Message from main thread.');\n    // listen back from worker\n    this.cpuWorker.addEventListener('message', ({data}) => {\n      this.result = data;\n    });\n  }\n\n  changeColor(color: string) {\n    this.selectedColour = color;\n  }\n}\n\n\n//app.component.html\n<div class=\"container pt-4 mt-4\">\n    <div class=\"row\">\n        <div class=\"col\">\n            <div class=\"row\">\n                <div id='colorDiv' [ngStyle]=\"{'background-color':selectedColour}\"></div>\n            </div>\n            <div class=\"row\">\n                <span [style.color]=selectedColour>{{selectedColour}}</span>\n            </div>\n            <div class=\"row pt-4\">\n                <div class=\"dropdown show\">\n                    <a class=\"btn btn-primary btn-lg dropdown-toggle\" role=\"button\" id=\"dropdownMenuLink\" \n                    data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                        Pick colour\n                        </a>\n                    <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuLink\">\n                        <a *ngFor=\" let colour of colourArr\" (click)=\"changeColor(colour)\" class=\"dropdown-item\">\n                            <div class=\"drpDwnItem\" [style.background-color]=colour>\n                                <span [style.color]=colour>{{colour}}</span>\n                            </div>\n                        </a>\n                    </div>\n                </div>\n            </div>\n        </div>\n        <div class=\"col\">\n            <div class=\"row\">\n                <button class=\"btn btn-primary btn-lg\" (click)=\"cpuIntensiveWork()\"> CPU Intensive Work\n                        <i *ngIf=\"isBusy\" class=\"fa fa-spinner fa-spin fa-2x fa-fw\"></i>\n                </button>\n            </div>\n            <ng-container *ngIf=\"result\">\n                <div class=\"row pt-4\">\n                    <h1 class=\"display-4\">{{result.TimeElapsed}}</h1>\n                </div>\n                <div class=\"row\">\n                    <h1 class=\"display-4\">{{result.output}}</h1>\n                </div>\n            </ng-container>\n        </div>\n    </div>\n</div>\n\n\n\n//worker/cpu.worker.ts\nimport { environment } from \"../../environments/environment\";\n\naddEventListener('message', ({data}) => {\n  const result = cpuIntensiveWork();\n  postMessage(result);\n});\n\nconst cpuIntensiveWork = function () {\n  const start = new Date().getTime();\n  let calResult = 0;\n  for (let i = Math.pow(environment.baseNumber, 7); i >= 0; i--) {\n    calResult += Math.atan(i) * Math.tan(i);\n  };\n\n  let elapsed = new Date().getTime() - start;\n  const milliseconds = (elapsed % 1000) / 100;\n  const seconds = Math.floor((elapsed / 1000) % 60);\n  const minutes = Math.floor((elapsed / (1000 * 60)) % 60);\n  const result = {'TimeElapsed': ''$'{ minutes }m, '$'{ seconds }s, '$'{ milliseconds }ms', 'output': calResult};\n  return result;\n}\n`.trim();\n\nconst ViewContainerRef = `let componentRef = viewContainerRef.createComponent(componentFactory);`.trim();\n\nclass DynamicallyLoad extends Component {\n  componentDidMount() {\n    setTimeout(() => Prism.highlightAll(), 0)\n  }\n  render() {\n    const { classes } = this.props;\n    return (\n      <Grid container>\n        <Grid item xs={2}>\n          <Paper className={classes.paper}>\n            <h4><Sidebar /></h4>\n          </Paper>\n        </Grid>\n        <Grid item xs={10}>\n          <Paper className={classes.paper}>\n            <List>\n              <h3>Dynamically Load Component</h3>\n              <ul>\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n                <li></li>\n              </ul>\n              Dynamic components are the components in which components location in the application is not defined at build time.i.e, They are not used in any angular template. But the component is instantiated and placed in the application at runtime.\n              <br />\n              <br />\n              Mainly, in the component template, a component is loaded using the component selector at angular\n              compile time. The component can also be loaded dynamically at runtime with the help of\n              ComponentFactory, ComponentFactoryResolver, and ViewContainerRef.\n              <br />\n              <br />\n              Those components which need to be loaded dynamically must also be configured in entryComponents\n              metadata of @NgModule decorator. To load a dynamic component in a template we required an insert\n              location and to get it we need ViewContainerRef of a decorator or a component.\n              <br />\n              <br />\n              ComponentFactory is used to create an instance of components where ComponentFactoryResolver resolves a\n              ComponentFactory for a particular component. It is used as follows.\n              <br />\n              <br />\n              <b>let componentFactory = this.componentFactoryResolver.resolveComponentFactory(component);</b>\n              <br />\n              <br />\n              <b>ViewContainerRef</b><br />\n              <ul>\n                <li>ViewContainerRef represents a container where we can attach one or more views to a component and\n                  also show an API to create components. Some important methods of ViewContainerRef are:\n                  <ul>\n                    <li>createEmbeddedView()</li>\n                    <li>clear()</li>\n                    <li>get()</li>\n                    <li>insert()</li>\n                    <li>move()</li>\n                    <li>createComponent()</li>\n                  </ul>\n                </li>\n                <br />\n\n                <li>CreateEmbeddedView() instantiates an embedded view and inserts it into container.</li>\n                <li>createComponent() instantiates a single component and inserts its host view into the container at\n                  a specified index.</li>\n              </ul>\n              <br />\n              In dynamic component loader, load component using createComponent() of ViewContainerRef.\n              <br />\n              <br />\n              <div style={titles}>\n                <PrismCode\n                  code={ViewContainerRef}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n              clear() method of ViewContainerRef destroys all existing views in the container.\n              <br />\n              <br />\n              <div style={titles}>\n                <PrismCode\n                  code={dynamically}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n\n              <h3>Web-Worker (Blocking UI)</h3>\n              <div style={titles}>\n                <PrismCode\n                  code={blocking}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n\n              <h3>Web-Worker (Non-Blocking UI)</h3>\n              <div style={titles}>\n                <PrismCode\n                  code={nonBlocking}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n            </List>\n          </Paper>\n        </Grid>\n      </Grid>\n    )\n  }\n}\n\nexport default (withStyles(styles)(DynamicallyLoad));\n"]},"metadata":{},"sourceType":"module"}