{"version":3,"sources":["components/ReactJs/prismCode.js","components/nodeJs/sidebar.js","components/nodeJs/nodeDeep/2fa_speakearst.js"],"names":["PrismCode","props","highlight","ref","current","Prism","highlightElement","React","createRef","this","code","language","plugins","className","trim","Component","useStyles","makeStyles","theme","root","display","paper","marginRight","spacing","line","textDecoration","Sidebar","classes","to","titles","backgroundColor","padding","fontSize","myDataBase","server","awaitPat","TwoFA","setTimeout","highlightAll","container","item","xs","style","withStyles","margin","smMargin","actionDiv","textAlign"],"mappings":"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","file":"static/js/208.6e21cd67.chunk.js","sourcesContent":["import React from \"react\"\nimport Prism from \"prismjs\"\nimport '../dashboard/blog/styles.css'\n\nexport default class PrismCode extends React.Component {\n  constructor(props) {\n    super(props)\n    this.ref = React.createRef()\n  }\n\n  componentDidMount() {\n    this.highlight()\n  }\n\n  componentDidUpdate() {\n    this.highlight()\n  }\n\n  highlight = () => {\n    if (this.ref && this.ref.current) {\n      Prism.highlightElement(this.ref.current)\n    }\n  }\n\n  render() {\n    const { code, plugins, language } = this.props\n    return (\n      <pre className=\"code-prism\">\n        <code ref={this.ref} className={`language-${language}`}>\n          {code.trim()}\n        </code>\n      </pre>\n    )\n  }\n}","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  paper: {\n    marginRight: theme.spacing(2),\n  },\n  line: {\n    textDecoration: 'none'\n  }\n}));\n\nexport default function Sidebar() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <MenuList>\n        <MenuItem><Link to='/introNodejs' className={classes.line}>Intro</Link></MenuItem>\n        <MenuItem><Link to='/ejsNode' className={classes.line}>Basics</Link></MenuItem>\n        <MenuItem><Link to='/buffers' className={classes.line}>Buffer</Link></MenuItem>\n        <MenuItem><Link to='/childs' className={classes.line}>Child Process-fork()-exec()</Link></MenuItem>\n        <MenuItem><Link to='/tut_1' className={classes.line}>Callback</Link></MenuItem>\n        <MenuItem><Link to='/filSystems' className={classes.line}>File System</Link></MenuItem>\n        <MenuItem><Link to='/evtNode' className={classes.line}>EvtEmter-Capture data</Link></MenuItem>\n        <MenuItem><Link to='/codes' className={classes.line}>Codes</Link></MenuItem>\n        <MenuItem><Link to='/url_shortener' className={classes.line}>Url_Shortener</Link></MenuItem>\n        <MenuItem><Link to='/stripe_payment' className={classes.line}>stripe_payment</Link></MenuItem>\n        <MenuItem><Link to='/sendEmail' className={classes.line}>sendEmail</Link></MenuItem>\n        <MenuItem><Link to='/search_pagination' className={classes.line}>search_pagination</Link></MenuItem>\n        <MenuItem><Link to='/push_notifications' className={classes.line}>push_notifications</Link></MenuItem>\n        <MenuItem><Link to='/nodetext' className={classes.line}>nodetext</Link></MenuItem>\n        <MenuItem><Link to='/file_upload' className={classes.line}>file_upload</Link></MenuItem>\n        <MenuItem><Link to='/e_acco_veri' className={classes.line}>email_acco_veri</Link></MenuItem>\n        <MenuItem><Link to='/2fa_speakearst' className={classes.line}>2fa_speakearst</Link></MenuItem>\n        <MenuItem><Link to='/authentications' className={classes.line}>SignUp</Link></MenuItem>\n        <MenuItem><Link to='/serverSide' className={classes.line}>Server Side</Link></MenuItem>\n        <MenuItem><Link to='/tut_2' className={classes.line}>Geocode-Upload</Link></MenuItem>\n        <MenuItem><Link to='/tut_6' className={classes.line}>Chat</Link></MenuItem>\n        <MenuItem><Link to='/udemy' className={classes.line}>Udemy</Link></MenuItem>\n      </MenuList>\n      <div>\n      </div>\n    </div>\n  );\n}\n","import React, { Component } from 'react';\nimport Prism from \"prismjs\"\nimport { Grid, Paper, withStyles, List } from \"@material-ui/core\";\n\nimport '../../ReactJs/styles.css'\nimport Sidebar from '../sidebar';\nimport PrismCode from '../../ReactJs/prismCode';\n\n\nconst titles = { backgroundColor: '#F0F8FF', padding: '1px', fontSize: '16px' }\n\nconst styles = theme => ({\n  paper: {\n    margin: theme.spacing(1),\n    padding: theme.spacing(1)\n  },\n  smMargin: {\n    margin: theme.spacing(1)\n  },\n  actionDiv: {\n    textAlign: \"center\"\n  }\n})\n\n\nconst myDataBase = `\n{\"user\":{\"19aff1ae-35b2-407e-87bc-1b76b2ca54f7\":{\n  \"id\":\"19aff1ae-35b2-407e-87bc-1b76b2ca54f7\",\n  \"temp_secret\":{\"ascii\":\"[&JnaKh]&Wt9>6Z}Cc1]X$ZMDtIVMH2I\",\n    \"hex\":\"5b264a6e614b685d265774393e365a7d4363315d58245a4d447449564d483249\",\n    \"base32\":\"LMTEU3TBJNUF2JSXOQ4T4NS2PVBWGMK5LASFUTKEOREVMTKIGJEQ\",\n    \"otpauth_url\":\"otpauth://totp/SecretKey?secret=LMTEU3TBJNUF2JSXOQ4T4NS2PVBWGMK5LASFUTKEOREVMTKIGJEQ\"}},\n    \"96ae4a35-98a2-48ed-84dd-829c8e882117\":{\"id\":\"96ae4a35-98a2-48ed-84dd-829c8e882117\",\n\"temp_secret\":{\"ascii\":\"7(Jv}W/1i9}J6at0ci)y}m{*I9Xd5I{%\",\n  \"hex\":\"37284a767d572f3169397d4a36617430636929797d6d7b2a4939586435497b25\",\n  \"base32\":\"G4UEU5T5K4XTC2JZPVFDMYLUGBRWSKLZPVWXWKSJHFMGINKJPMSQ\",\n  \"otpauth_url\":\"otpauth://totp/SecretKey?secret=G4UEU5T5K4XTC2JZPVFDMYLUGBRWSKLZPVWXWKSJHFMGINKJPMSQ\"}},\n  \"93c92864-8297-40b6-8550-4e7d4666742d\":{\"id\":\"93c92864-8297-40b6-8550-4e7d4666742d\",\n    \"temp_secret\":{\"ascii\":\"OPCeDKax((p;q2Sm[Gny1p!nAChR86HE\",\n      \"hex\":\"4f504365444b61782828703b7132536d5b476e793170216e4143685238364845\",\n      \"base32\":\"J5IEGZKEJNQXQKBIOA5XCMSTNVNUO3TZGFYCC3SBINUFEOBWJBCQ\",\n      \"otpauth_url\":\"otpauth://totp/SecretKey?secret=J5IEGZKEJNQXQKBIOA5XCMSTNVNUO3TZGFYCC3SBINUFEOBWJBCQ\"}},\n      \"fa6f9da6-f9db-4caf-8e47-2f9309a11e6d\":{\"id\":\"fa6f9da6-f9db-4caf-8e47-2f9309a11e6d\",\n        \"temp_secret\":{\"ascii\":\"qhRSFJy.;}MM&csaA$5PcaFg}X)LNuoQ\",\n          \"hex\":\"71685253464a792e3b7d4d4d2663736141243550636146677d58294c4e756f51\",\n          \"base32\":\"OFUFEU2GJJ4S4O35JVGSMY3TMFASINKQMNQUMZ35LAUUYTTVN5IQ\",\n          \"otpauth_url\":\"otpauth://totp/SecretKey?secret=OFUFEU2GJJ4S4O35JVGSMY3TMFASINKQMNQUMZ35LAUUYTTVN5IQ\"}\n          }\n        }\n      }`.trim();\n\nconst server = `\n\nconst express = require(\"express\");\nconst bodyParser = require('body-parser');\nconst JsonDB = require('node-json-db').JsonDB;\nconst Config = require('node-json-db/dist/lib/JsonDBConfig').Config;\nconst uuid = require(\"uuid\");\nconst speakeasy = require(\"speakeasy\");\nconst app = express();\n\n\nvar db = new JsonDB(new Config(\"myDataBase\", true, false, '/'));\n\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: true }));\n\napp.post(\"/api/register\", (req, res) => {\n  const id = uuid.v4();\n  try {\n    const path = '/user/'$'{id}';\n    const temp_secret = speakeasy.generateSecret();     // Create temporary secret until it verified\n    \n    db.push(path, { id, temp_secret });                 // Create user in the database\n    res.json({ id, secret: temp_secret.base32 })        // Send user id and base32 key to user\n  } catch(e) {\n    console.log(e);\n    res.status(500).json({ message: 'Error generating secret key'})\n  }\n})\n\napp.post(\"/api/verify\", (req,res) => {\n  const { userId, token } = req.body;\n  try {\n    const path = '/user/'$'{userId}';                       // Retrieve user from database\n    const user = db.getData(path);\n    console.log({ user })\n    const { base32: secret } = user.temp_secret;\n    const verified = speakeasy.totp.verify({\n      secret,\n      encoding: 'base32',\n      token\n    });\n    if (verified) {\n      db.push(path, { id: userId, secret: user.temp_secret });      // Update user data\n      res.json({ verified: true })\n    } else {\n      res.json({ verified: false})\n    }\n  } catch(error) {\n    console.error(error);\n    res.status(500).json({ message: 'Error retrieving user'})\n  };\n})\n\napp.post(\"/api/validate\", (req,res) => {\n  const { userId, token } = req.body;\n  try {\n    const path = '/user/'$'{userId}';                 // Retrieve user from database\n    const user = db.getData(path);\n    console.log({ user })\n    const { base32: secret } = user.secret;\n    const tokenValidates = speakeasy.totp.verify({  // Returns true if the token matches\n      secret,\n      encoding: 'base32',\n      token,\n      window: 1\n    });\n    if (tokenValidates) {\n      res.json({ validated: true })\n    } else {\n      res.json({ validated: false})\n    }\n  } catch(error) {\n    console.error(error);\n    res.status(500).json({ message: 'Error retrieving user'})\n  };\n})\n\nconst port = 5000;\n\napp.listen(port, () => console.log('App is running on PORT.'));`.trim();\n\nconst awaitPat = `\nGET: localhost:5000/api\nPOST: localhost:5000/api/register\n\nPOST: localhost:5000/api/verify\n      {\n        \"userid\":\"fa6f9da6-f9db-4caf-8e47-2f9309a11e6d\",\n         \"token\":\"132276\"\n      }`.trim();\n\n\nclass TwoFA extends Component {\n  componentDidMount() {\n    setTimeout(() => Prism.highlightAll(), 0)\n  }\n  render() {\n    const { classes } = this.props;\n    return (\n      <Grid container>\n        <Grid item xs={2}>\n          <Paper className={classes.paper}>\n            <h4><Sidebar /></h4>\n          </Paper>\n        </Grid>\n        <Grid item xs={10}>\n          <Paper className={classes.paper}>\n            <List>\n              <h3>2fa-speakeasy-example-master</h3>\n              <b>myDataBase.json</b>\n              <div style={titles}>\n                <PrismCode\n                  code={myDataBase}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n              <br />\n\n              <b>server.js</b><br/>\n              The second argument is used to tell the DB to save after each push\n              If you put false, you'll have to call the save() method.<br/>\n              The third argument is to ask JsonDB to save the database in an human readable format. (default false)\n              The last argument is the separator. By default it's slash (/).\n              <div style={titles}>\n                <PrismCode\n                  code={server}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n              <br />\n              <br />\n\n              <b>notes</b>\n              <div style={titles}>\n                <PrismCode\n                  code={awaitPat}\n                  language=\"js\"\n                  plugins={[\"line-numbers\"]}\n                />\n              </div>\n            </List>\n          </Paper>\n        </Grid>\n      </Grid>\n    )\n  }\n}\n\nexport default (withStyles(styles)(TwoFA));\n"],"sourceRoot":""}