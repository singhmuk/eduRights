(this["webpackJsonpmern-stack-client"]=this["webpackJsonpmern-stack-client"]||[]).push([[145],{140:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var a=n(45),l=n(28),r=n(136),s=n(137),i=n(139),o=n(0),c=n.n(o),u=n(138),m=n.n(u),p=(n(59),function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(r.a)(this,Object(s.a)(t).call(this,e))).highlight=function(){n.ref&&n.ref.current&&m.a.highlightElement(n.ref.current)},n.ref=c.a.createRef(),n}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.highlight()}},{key:"componentDidUpdate",value:function(){this.highlight()}},{key:"render",value:function(){var e=this.props,t=e.code,n=(e.plugins,e.language);return c.a.createElement("pre",{className:"code-prism"},c.a.createElement("code",{ref:this.ref,className:"language-".concat(n)},t.trim()))}}]),t}(c.a.Component))},141:function(e,t,n){},158:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(0),l=n.n(a),r=n(26),s=n(297),i=n(295),o=n(114),c=Object(o.a)((function(e){return{root:{display:"flex"},paper:{marginRight:e.spacing(2)},line:{textDecoration:"none"}}}));function u(){var e=c();return l.a.createElement("div",{className:e.root},l.a.createElement(i.a,null,l.a.createElement(s.a,null,l.a.createElement(r.b,{to:"/introExpress",className:e.line},"IntroExpress")),l.a.createElement(s.a,null,l.a.createElement(r.b,{to:"/resDocs",className:e.line},"Responds")),l.a.createElement(s.a,null,l.a.createElement(r.b,{to:"/routerDocs",className:e.line},"Router")),l.a.createElement(s.a,null,l.a.createElement(r.b,{to:"/middleware",className:e.line},"Middleware")),l.a.createElement("b",null,"Loopback"),l.a.createElement(s.a,null,l.a.createElement(r.b,{to:"/loopbackcli",className:e.line},"Loopbackcli")),l.a.createElement(s.a,null,l.a.createElement(r.b,{to:"/jqueries",className:e.line},"jqueries")),l.a.createElement(s.a,null,l.a.createElement(r.b,{to:"/backbonejs",className:e.line},"Backbone")),l.a.createElement(s.a,null,l.a.createElement(r.b,{to:"/underscorejs",className:e.line},"Underscore"))),l.a.createElement("div",null))}},398:function(e,t,n){"use strict";n.r(t);var a=n(45),l=n(28),r=n(136),s=n(137),i=n(139),o=n(0),c=n.n(o),u=n(138),m=n.n(u),p=n(120),d=n(57),h=n(296),E=n(5),b=(n(141),n(158)),f=n(140),g={backgroundColor:"#F0F8FF",padding:"1px",fontSize:"16px"},y="Const router = express.Router([options])".trim(),x="fn(res, path, stat)".trim(),w="\nvar options = {\n  dotfiles: 'ignore',\n  etag: false,\n  extensions: ['htm', 'html'],\n  index: false,\n  maxAge: '1d',\n  redirect: false,\n  setHeaders: function (res, path, stat) {\n    res.set('x-timestamp', Date.now())\n  }\n}\n\napp.use(express.static('public', options))\n".trim(),v="console.dir(app.locals.title)".trim(),q="\napp.locals.title = 'My App'\napp.locals.strftime = require('strftime')\napp.locals.email = 'me@myapp.com'\n".trim(),k="\napp.all('/secret', function (req, res, next) {\n  console.log('Accessing ...')\n  next()                                                                // pass control to the next handler.\n})\n\napp.all('*', requireAuthentication, loadUser)                             \n\n\n//Or the equivalent:\napp.all('*', requireAuthentication)\napp.all('*', loadUser)\n\napp.all('/api/*', requireAuthentication)                               //Restricts paths that start with \u201c/api\u201d.\n".trim(),j="\napp.engine('pug', require('pug').__express)\n\napp.engine('html', require('ejs').renderFile)                         //To map the EJS template engine to \u201c.html\u201d files.\n".trim(),T="\napp.param('user', function (req, res, next, id) {\n                                                        \n  User.find(id, function (err, user) {                    //get user details from User model and attach to the request object\n    if (err) {\n      next(err)\n    } else if (user) {\n      req.user = user\n      next()\n    } else {\n      next(new Error('failed to load user'))\n    }\n  })\n})\n".trim(),A="\napp.use(function (err, req, res, next) {\n  console.error(err.stack)\n  res.status(500).send('Something broke!')\n})\n".trim(),R="\napp.use('/abcd', function (req, res, next) {                    //Match paths starting with /abcd.\n  next();\n});\n\napp.use('/abc?d', function (req, res, next) {                  //Match paths starting with /abcd and /abd:\n  next();\n});\n\napp.use('/ab+cd', function (req, res, next) {                 //Match paths starting with /abcd, /abbcd, /abbbbbcd, so on.\n  next();\n});\n\napp.use('/ab*cd', function (req, res, next) {                //Match paths starting /abcd, /abxcd, /abFOOcd, /abbArcd, ...\n  next();\n});\n\napp.use('/a(bc)?d', function (req, res, next) {               //Match paths starting with /ad and /abcd.\n  next();\n});\n\n//Regular Expression\napp.use(//abc|/xyz/, function (req, res, next) {            //Match paths starting with /abc and /xyz.\n  next();\n});\n\n//Array\napp.use(['/abcd', '/xyza', //lmn|/pqr/], function (req, res, next) {\n  next();                                                     //Match paths /abcd, /xyza, /lmn, and /pqr.\n});\n".trim(),O="\n//Single Middleware\napp.use(function (req, res, next) {\n  next();\n});\n\n\n//A router is valid middleware.\nvar router = express.Router();\nrouter.get('/', function (req, res, next) {\n  next();\n});\napp.use(router);\n\n\n//An Express app is valid middleware.\nvar subApp = express();\nsubApp.get('/', function (req, res, next) {\n  next();\n});\napp.use(subApp);\n\n\n\n//Series of Middleware\n//We can specify more than one middleware function at the same mount path.\nvar r1 = express.Router();\nr1.get('/', function (req, res, next) {\n  next();\n});\n\nvar r2 = express.Router();\nr2.get('/', function (req, res, next) {\n  next();\n});\n\napp.use(r1, r2);\n\n\n\n//Array\nUse an array to group middleware logically. If you pass an array of middleware as the first or only middleware \nparameters, then you must specify the mount path.\nvar r1 = express.Router();\nr1.get('/', function (req, res, next) {\n  next();\n});\n\nvar r2 = express.Router();\nr2.get('/', function (req, res, next) {\n  next();\n});\n\napp.use('/', [r1, r2]);\n\n\n\n//Combination: Can combine all the above ways of mounting middleware.\nfunction mw1(req, res, next) { next(); }\nfunction mw2(req, res, next) { next(); }\n\nvar r1 = express.Router();\nr1.get('/', function (req, res, next) { next(); });\n\nvar r2 = express.Router();\nr2.get('/', function (req, res, next) { next(); });\n\nvar subApp = express();\nsubApp.get('/', function (req, res, next) { next(); });\n\napp.use(mw1, [mw2, r1, r2], subApp);\n".trim(),M=function(e){function t(){return Object(a.a)(this,t),Object(r.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(i.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){setTimeout((function(){return m.a.highlightAll()}),0)}},{key:"render",value:function(){var e=this.props.classes;return c.a.createElement(p.a,{container:!0},c.a.createElement(p.a,{item:!0,xs:2},c.a.createElement(d.a,{className:e.paper},c.a.createElement("h4",null,c.a.createElement(b.a,null)))),c.a.createElement(p.a,{item:!0,xs:10},c.a.createElement(d.a,{className:e.paper},c.a.createElement(h.a,null,c.a.createElement("h3",null,"1.How to configure middleware using ExpressJS?"),c.a.createElement("p",null,"@Express, a framework that sits on top of Node.js\u2019s web server and makes it easier to use.Middleware and routing, two features of Express Request handler functions."),c.a.createElement("h3",null,"3. What is Express?"),c.a.createElement("p",null,"Express is a small framework that sits on top of Node.js\u2019s web server functionality to simplify its APIs.",c.a.createElement("br",null),c.a.createElement("ul",null,c.a.createElement("li",null,"It makes easier to organize our application\u2019s functionality with middleware and routing."),c.a.createElement("li",null,"It adds helpful utilities to Node HTTP objects."),c.a.createElement("li",null,"It facilitates the rendering of dynamic HTML views.")),c.a.createElement("br",null),"The functionality is listens to a web browser\u2019s requests. When a request comes in, this function will look at the request and determine how to respond."),c.a.createElement("br",null),c.a.createElement("h3",null,"4.What Express adds to Node.js"),c.a.createElement("p",null,c.a.createElement("ul",null,c.a.createElement("li",null,"Abstracting implemented codes to handle HTTP server request/ response."),c.a.createElement("b",null,"Ex. ")," Sending a single JPEG file is fairly complex in raw Node.js Express reduces it to one line.",c.a.createElement("br",null),c.a.createElement("li",null,"Rather than one large request handler function, Express has you writing many smaller functions. Some functions are executed for every request and other functions are only executed some-times.")),c.a.createElement("br",null),c.a.createElement("b",null,"Express has just four major features: "),c.a.createElement("ul",null,c.a.createElement("li",null,"Middleware"),c.a.createElement("li",null,"Routing"),c.a.createElement("li",null,"Subapplications"),c.a.createElement("li",null,"Conveniences"))),c.a.createElement("h3",null,"5.HTTPS adds a secure layer to HTTP. This secure layer is called TLS (Transport Layer Security) SSL (Secure Sockets Layer)."),c.a.createElement("p",null,"Every peer has a public key that they share with every-body and a private key that they share with nobody. If I want to send something to you,I encrypt the message with my private key and your public key. I can then send you messages that look like garbage to any eaver droppers, and you decrypt them with your private key and my public key."),c.a.createElement("br",null),c.a.createElement("h3",null,"6. Methods"),c.a.createElement("b",null,"express.json([options])"),c.a.createElement("p",null,"It parses incoming requests with JSON payloads. Returns middleware that only parses JSON and only looks at requests where the Content-Type header matches the type option. This parser accepts any Unicode encoding of the body and supports automatic inflation of gzip and deflate encodings."),c.a.createElement("p",null,"A new body object containing the parsed data is populated on the request object after the middleware (i.e. req.body), or an empty object (",") if there was no body to parse, the Content-Type was not matched an error occurred."),c.a.createElement("b",null,"Options:"),"inflate(Boolean), limit, reviver(Function), strict, type, verify(Function).",c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("b",null,"1. express.raw([options])"),c.a.createElement("p",null,"It parses incoming request payloads into a Buffer and is based on body-parser."),c.a.createElement("b",null,"Options:"),"inflate, limit, type, verify",c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("b",null,"2. express.Router([options])"),c.a.createElement("p",null,"Creates a new router object."),c.a.createElement("b",null,"Property:"),"caseSensitive, mergeParams, strict",c.a.createElement("div",{style:g},c.a.createElement(f.a,{code:y,language:"js",plugins:["line-numbers"]})),c.a.createElement("i",null,"We can add middleware and HTTP method routes (get, put, post, ...) to router like an application."),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("b",null,"3. express.static(root, [options])"),c.a.createElement("p",null,"It serves static files and is based on serve-static."),c.a.createElement("p",null,"The root argument specifies the root directory from which to serve static assets. The function determines the file to serve by combining req.url with the provided root directory. When a file is not found, instead of sending a 404 response, it instead calls next() to move on to the next middleware, allowing for stacking and fall-backs."),c.a.createElement("b",null,"Property:"),"dotfiles(String), etag(Boolean), extensions, fallthrough, immutable, index, lastModified, maxAge, redirect, setHeaders.",c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("b",null,"Dotfiles: "),"Possible values for this option are:",c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("b",null,"allow -")," No special treatment for dotfiles."),c.a.createElement("li",null,c.a.createElement("b",null,"deny -")," Deny a request for a dotfile, respond with 403, then call next()."),c.a.createElement("li",null,c.a.createElement("b",null,"ignore -")," Act as if the dotfile does not exist, respond with 404, then call next().")),c.a.createElement("br",null),c.a.createElement("b",null,"N: "),"With the default value, it will not ignore files in a directory that begins with a dot.",c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("b",null,"Fallthrough:"),c.a.createElement("p",null,c.a.createElement("ul",null,c.a.createElement("li",null,"When Fallthrough is true, client errors such as a bad request or a request to a non-existent file will cause this middleware to simply call next() to invoke the next middleware in the stack."),c.a.createElement("li",null,"When false, these errors (even 404s), will invoke next(err)."))),c.a.createElement("p",null,c.a.createElement("ul",null,c.a.createElement("li",null,"Set this option to true so can map multiple physical directories to the same web address or for routes to fill in non-existent files."),c.a.createElement("li",null,"Use false if mounted this middleware at a path designed to be strictly a single file system directory, which allows for short-circuiting 404s for less overhead. This middleware will also reply to all methods."))),c.a.createElement("br",null),c.a.createElement("b",null,"4. setHeaders:"),"Specify a function to set custom response headers. Alterations to the headers must occur synchronously.",c.a.createElement("div",{style:g},c.a.createElement(f.a,{code:x,language:"js",plugins:["line-numbers"]})),c.a.createElement("br",null),c.a.createElement("b",null,"Example of express.static"),c.a.createElement("div",{style:g},c.a.createElement(f.a,{code:w,language:"js",plugins:["line-numbers"]})),c.a.createElement("br",null),c.a.createElement("b",null,"5. express.text([options])"),c.a.createElement("p",null,"It parses incoming request payloads into a string. Returns middleware that parses all bodies as a string and only looks at requests where the Content-Type header matches the type option."),c.a.createElement("b",null,"Property:"),"defaultCharset, inflate, limit, type, verify",c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("b",null,"6. express.urlencoded([options])"),c.a.createElement("p",null,"It parses incoming requests with urlencoded payloads. Returns middleware that only parses urlencoded bodies and only looks at requests where the Content-Type header matches the type option."),c.a.createElement("b",null,"Property:"),"extended, inflate, limit, parameterLimit, type, verify.",c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("b",null,"The app object has methods for:"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("b",null,"Routing HTTP requests: "),"for example, app.METHOD and app.param."),c.a.createElement("li",null,c.a.createElement("b",null,"Configuring middleware: "),"app.route."),c.a.createElement("li",null,c.a.createElement("b",null,"Rendering HTML views: "),"app.render."),c.a.createElement("li",null,c.a.createElement("b",null,"Registering a template engine: "),"app.engine.")),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("b",null,"7. app.locals: "),"Object has properties that are local variables within the application.",c.a.createElement("div",{style:g},c.a.createElement(f.a,{code:v,language:"js",plugins:["line-numbers"]})),c.a.createElement("i",null,"Once set, the value of app.locals properties persist throughout the life of the application, in contrast with res.locals properties that are valid only for the lifetime of the request."),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("div",{style:g},c.a.createElement(f.a,{code:q,language:"js",plugins:["line-numbers"]})),c.a.createElement("br",null),c.a.createElement("h3",null,"8. app.all(path, callback [, callback ...]):"),"app.all() use for mapping \u201cglobal\u201d logic for specific path prefixes/ arbitrary matches.",c.a.createElement("div",{style:g},c.a.createElement(f.a,{code:k,language:"js",plugins:["line-numbers"]})),c.a.createElement("br",null),c.a.createElement("h3",null,"app.engine(ext, callback):"),c.a.createElement("p",null,c.a.createElement("ul",null,c.a.createElement("li",null,"Registers the given template engine callback as ext."),c.a.createElement("li",null,"By default, Express will require() the engine based on the file extension."),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("b",null,"Ex. ")," if you try to render a \u201cfoo.pug\u201d file, Express invokes the following internally, and caches the require() on subsequent calls to increase performance.")))),c.a.createElement("div",{style:g},c.a.createElement(f.a,{code:j,language:"js",plugins:["line-numbers"]})),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("b",null,"Routing methods:"),c.a.createElement("br",null),"Express supports the following routing methods corresponding to the HTTP methods of the same names:",c.a.createElement("ul",null,c.a.createElement("li",null,"Checkout"),c.a.createElement("li",null,"copy"),c.a.createElement("li",null,"delete"),c.a.createElement("li",null,"get"),c.a.createElement("li",null,"head"),c.a.createElement("li",null,"lock"),c.a.createElement("li",null,"merge"),c.a.createElement("li",null,"mkactivity"),c.a.createElement("li",null,"mkcol"),c.a.createElement("li",null,"move"),c.a.createElement("li",null,"m-search"),c.a.createElement("li",null,"notify"),c.a.createElement("li",null,"options"),c.a.createElement("li",null,"patch"),c.a.createElement("li",null,"post"),c.a.createElement("li",null,"purge"),c.a.createElement("li",null,"put"),c.a.createElement("li",null,"report"),c.a.createElement("li",null,"search"),c.a.createElement("li",null,"subscribe"),c.a.createElement("li",null,"trace"),c.a.createElement("li",null,"unlock"),c.a.createElement("li",null,"unsubscribe")),c.a.createElement("br",null),c.a.createElement("h3",null,"app.param([name], callback):"),c.a.createElement("p",null,"Add callback triggers to route parameters, where name is the name of the parameter or an array of them, and callback is the callback function. The parameters of the callback function are in order.",c.a.createElement("ul",null,c.a.createElement("li",null,"request object"),c.a.createElement("li",null,"response object"),c.a.createElement("li",null,"next middleware"),c.a.createElement("li",null,"value of the parameter"),c.a.createElement("li",null,"name of the parameter"))),c.a.createElement("p",null,"If name is an array, the callback trigger is registered for each parameter declared in it, in the order in which they are declared. Furthermore, for each declared parameter except the last one, a call to next inside the callback will call the callback for the next declared parameter. For the last parameter, a call to next will call the next middleware in place for the route currently being processed, just like it would if name were just a string."),c.a.createElement("p",null,c.a.createElement("b",null,"Ex.: "),"User is present in a route path, you may map user loading logic to automatically provide req.user to the route, or perform validations on the parameter input."),c.a.createElement("div",{style:g},c.a.createElement(f.a,{code:T,language:"js",plugins:["line-numbers"]})),c.a.createElement("br",null),c.a.createElement("h3",null,"9. Error-handling middleware:"),c.a.createElement("p",null,"Error-handling middleware always takes four arguments. Even if you don\u2019t need to use the next object, you must specify it to maintain the signature. Otherwise, the next object will be interpreted as regular middleware and will fail to handle errors."),c.a.createElement("div",{style:g},c.a.createElement(f.a,{code:A,language:"js",plugins:["line-numbers"]})),c.a.createElement("br",null),c.a.createElement("h3",null,"10. Path"),c.a.createElement("div",{style:g},c.a.createElement(f.a,{code:R,language:"js",plugins:["line-numbers"]})),c.a.createElement("br",null),c.a.createElement("h3",null,"Middleware callback function examples:"),"We can define and mount a middleware function locally.",c.a.createElement("div",{style:g},c.a.createElement(f.a,{code:O,language:"js",plugins:["line-numbers"]}))))))}}]),t}(o.Component);t.default=Object(E.a)((function(e){return{paper:{margin:e.spacing(1),padding:e.spacing(1)},smMargin:{margin:e.spacing(1)},actionDiv:{textAlign:"center"}}}))(M)}}]);
//# sourceMappingURL=145.c499b0ad.chunk.js.map