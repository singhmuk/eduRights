(this["webpackJsonpmern-stack-client"]=this["webpackJsonpmern-stack-client"]||[]).push([[173],{140:function(e,n,t){"use strict";t.d(n,"a",(function(){return m}));var a=t(45),r=t(28),s=t(136),l=t(137),o=t(139),i=t(0),c=t.n(i),u=t(138),p=t.n(u),m=(t(59),function(e){function n(e){var t;return Object(a.a)(this,n),(t=Object(s.a)(this,Object(l.a)(n).call(this,e))).highlight=function(){t.ref&&t.ref.current&&p.a.highlightElement(t.ref.current)},t.ref=c.a.createRef(),t}return Object(o.a)(n,e),Object(r.a)(n,[{key:"componentDidMount",value:function(){this.highlight()}},{key:"componentDidUpdate",value:function(){this.highlight()}},{key:"render",value:function(){var e=this.props,n=e.code,t=(e.plugins,e.language);return c.a.createElement("pre",{className:"code-prism"},c.a.createElement("code",{ref:this.ref,className:"language-".concat(t)},n.trim()))}}]),n}(c.a.Component))},141:function(e,n,t){},151:function(e,n,t){"use strict";t.d(n,"a",(function(){return u}));var a=t(0),r=t.n(a),s=t(26),l=t(297),o=t(295),i=t(114),c=Object(i.a)((function(e){return{root:{display:"flex"},paper:{marginRight:e.spacing(2)},line:{textDecoration:"none"}}}));function u(){var e=c();return r.a.createElement("div",{className:e.root},r.a.createElement(o.a,null,r.a.createElement(l.a,null,r.a.createElement(s.b,{to:"/setUpFiles",className:e.line},"SetUp")),r.a.createElement(l.a,null,r.a.createElement(s.b,{to:"/javaScript",className:e.line},"JavaScript")),r.a.createElement(l.a,null,r.a.createElement(s.b,{to:"/reactCurdMern",className:e.line},"Mern React")),r.a.createElement(l.a,null,r.a.createElement(s.b,{to:"/4_reactCurdHooks",className:e.line},"Mern React Hooks")),r.a.createElement(l.a,null,r.a.createElement(s.b,{to:"/pagination",className:e.line},"Sea Sort Pagi Auth_Token")),r.a.createElement(l.a,null,r.a.createElement(s.b,{to:"/propsModel",className:e.line},"SS pagination-Captcha")),r.a.createElement(l.a,null,r.a.createElement(s.b,{to:"/imageGallery",className:e.line},"ImageGallery")),r.a.createElement(l.a,null,r.a.createElement(s.b,{to:"/stripes",className:e.line},"Stripes-Signin with gfb")),r.a.createElement(l.a,null,r.a.createElement(s.b,{to:"/paginationsMern",className:e.line},"Paginations-push_notifis")),r.a.createElement(l.a,null,r.a.createElement(s.b,{to:"/googleMap",className:e.line},"GoogleMap")),r.a.createElement(l.a,null,r.a.createElement(s.b,{to:"/videoChat",className:e.line},"VideoChat")),r.a.createElement(l.a,null,r.a.createElement(s.b,{to:"/qrSccaners",className:e.line},"QrCode-reCapcha")),r.a.createElement(l.a,null,r.a.createElement(s.b,{to:"/react_share",className:e.line},"Share-Stripe")),r.a.createElement(l.a,null,r.a.createElement(s.b,{to:"/socialSignUp",className:e.line},"SocialSignUp")),r.a.createElement(l.a,null,r.a.createElement(s.b,{to:"/mernSocial",className:e.line},"MernSocial"))),r.a.createElement("div",null))}},539:function(e,n,t){"use strict";t.r(n);var a=t(45),r=t(28),s=t(136),l=t(137),o=t(139),i=t(0),c=t.n(i),u=t(138),p=t.n(u),m=t(120),g=t(57),b=t(296),d=t(5),h=(t(141),t(151)),E=t(140),f={backgroundColor:"#F0F8FF",padding:"1px",fontSize:"16px"},v='\nconst express = require("express");\nconst app = express();\nconst mongoose = require("mongoose");\nconst cors = require("cors");\n\nmongoose.connect("mongodb://localhost/pagination", {\n  useUnifiedTopology: true,\n  useNewUrlParser: true,\n});\n\nconst postSchema = new mongoose.Schema({\n  text: String,\n  title: String,\n});\n\nconst Post = mongoose.model("Post", postSchema);\n\napp.use(cors());\napp.use(express.json());\n\napp.get("/posts", async (req, res) => {\n  const PAGE_SIZE = 3;\n  const page = parseInt(req.query.page || "0");\n  const total = await Post.countDocuments({});\n  const posts = await Post.find({})\n    .limit(PAGE_SIZE)\n    .skip(PAGE_SIZE * page);\n  res.json({\n    totalPages: Math.ceil(total / PAGE_SIZE),\n    posts,\n  });\n});\n\nconst db = mongoose.connection;\n\ndb.once("open", () => {\n  app.listen(4000);\n});\n'.trim(),y='\nimport "./App.css";\nimport { useEffect, useState } from "react";\n\nfunction App() {\n  const [pageNumber, setPageNumber] = useState(0);\n  const [numberOfPages, setNumberOfPages] = useState(0);\n  const [posts, setPosts] = useState([]);\n\n  const pages = new Array(numberOfPages).fill(null).map((v, i) => i);\n\n  useEffect(() => {\n    fetch(\'http://localhost:4000/posts?page=\'$\'{pageNumber}\')\n      .then((response) => response.json())\n      .then(({ totalPages, posts }) => {\n        setPosts(posts);\n        setNumberOfPages(totalPages);\n      });\n  }, [pageNumber]);\n\n  const gotoPrevious = () => {\n    setPageNumber(Math.max(0, pageNumber - 1));\n  };\n\n  const gotoNext = () => {\n    setPageNumber(Math.min(numberOfPages - 1, pageNumber + 1));\n  };\n\n  return (\n    <div className="App">\n      <h3>Page of {pageNumber + 1}</h3>\n\n      {posts.map((post) => (\n        <div key={post._id} className="post">\n          <h4>{post.title}</h4>\n          <p>{post.text}</p>\n        </div>\n      ))}\n\n      <button onClick={gotoPrevious}>Previous</button>\n      {pages.map((pageIndex) => (\n        <button key={pageIndex} onClick={() => setPageNumber(pageIndex)}>\n          {pageIndex + 1}\n        </button>\n      ))}\n      <button onClick={gotoNext}>Next</button>\n    </div>\n  );\n}\n\nexport default App;\n'.trim(),N='\nconst express = require("express");\nconst webpush = require("web-push");\nconst bodyParser = require("body-parser");\nconst path = require("path");\n\nconst app = express();\n\napp.use(express.static(path.join(__dirname, "client")));\n\napp.use(bodyParser.json());\n\nconst publicVapidKey =\n  "BJthRQ5myDgc7OSXzPCMftGw-n16F7zQBEN7EUD6XxcfTTvrLGWSIG7y_JxiWtVlCFua0S8MTB5rPziBqNx1qIo";\nconst privateVapidKey = "3KzvKasA2SoCxsp0iIG_o9B0Ozvl1XDwI63JRKNIWBM";\n\nwebpush.setVapidDetails(\n  "mailto:test@test.com",\n  publicVapidKey,\n  privateVapidKey\n);\n\napp.post("/subscribe", (req, res) => {\n  const subscription = req.body;\n\n  res.status(201).json({});\n\n  const payload = JSON.stringify({ title: "Push Test" });\n\n  // Pass object into sendNotification\n  webpush\n    .sendNotification(subscription, payload)\n    .catch(err => console.error(err));\n});\n\nconst port = 5000;\n\napp.listen(port, () => console.log(Server started on port \'$\'{port}));\n'.trim(),S='\nconsole.log("Service Worker Loaded...");\n\nself.addEventListener("push", e => {\n  const data = e.data.json();\n  console.log("Push Recieved...");\n  self.registration.showNotification(data.title, {\n    body: "Notified by Traversy Media!",\n    icon: "http://image.ibb.co/frYOFd/tmlogo.png"\n  });\n});\n'.trim(),P='\nconst publicVapidKey =\n  "BJthRQ5myDgc7OSXzPCMftGw-n16F7zQBEN7EUD6XxcfTTvrLGWSIG7y_JxiWtVlCFua0S8MTB5rPziBqNx1qIo";\n\n// Check for service worker\nif ("serviceWorker" in navigator) {\n  send().catch(err => console.error(err));\n}\n\nasync function send() {\n  // Register Service Worker\n  console.log("Registering service worker...");\n  const register = await navigator.serviceWorker.register("/worker.js", {\n    scope: "/"\n  });\n\n  \n  const subscription = await register.pushManager.subscribe({\n    userVisibleOnly: true,\n    applicationServerKey: urlBase64ToUint8Array(publicVapidKey)\n  });\n\n  \n  await fetch("/subscribe", {\n    method: "POST",\n    body: JSON.stringify(subscription),\n    headers: {\n      "content-type": "application/json"\n    }\n  });\n}\n\nfunction urlBase64ToUint8Array(base64String) {\n  const padding = "=".repeat((4 - base64String.length % 4) % 4);\n  const base64 = (base64String + padding)\n    .replace(/-/g, "+")\n    .replace(/_/g, "/");\n\n  const rawData = window.atob(base64);\n  const outputArray = new Uint8Array(rawData.length);\n\n  for (let i = 0; i < rawData.length; ++i) {\n    outputArray[i] = rawData.charCodeAt(i);\n  }\n  return outputArray;\n}\n'.trim(),j='\n<!DOCTYPE html>\n<html lang="en">\n\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <meta http-equiv="X-UA-Compatible" content="ie=edge">\n  <title>Push Notifications Using Node</title>\n</head>\n\n<body>\n  <h1>Push Notifications Using Node</h1>\n  <script src="client.js"><\/script>\n</body>\n\n</html>'.trim(),x=function(e){function n(){return Object(a.a)(this,n),Object(s.a)(this,Object(l.a)(n).apply(this,arguments))}return Object(o.a)(n,e),Object(r.a)(n,[{key:"componentDidMount",value:function(){setTimeout((function(){return p.a.highlightAll()}),0)}},{key:"render",value:function(){var e=this.props.classes;return c.a.createElement(m.a,{container:!0},c.a.createElement(m.a,{item:!0,xs:2},c.a.createElement(g.a,{className:e.paper},c.a.createElement("h4",null,c.a.createElement(h.a,null)))),c.a.createElement(m.a,{item:!0,xs:10},c.a.createElement(g.a,{className:e.paper},c.a.createElement(b.a,null,c.a.createElement("h3",null,"Pagination"),c.a.createElement("b",null,"server/server.js"),c.a.createElement("br",null),c.a.createElement("div",{style:f},c.a.createElement(E.a,{code:v,language:"js",plugins:["line-numbers"]})),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("b",null,"client/App.js"),c.a.createElement("br",null),c.a.createElement("div",{style:f},c.a.createElement(E.a,{code:y,language:"js",plugins:["line-numbers"]})),c.a.createElement("br",null),c.a.createElement("h3",null,"2.node_push_notifications"),c.a.createElement("b",null,"server/server.js"),c.a.createElement("div",{style:f},c.a.createElement(E.a,{code:N,language:"js",plugins:["line-numbers"]})),c.a.createElement("br",null),c.a.createElement("h3",null,"Client"),c.a.createElement("b",null,"client/worker.js"),c.a.createElement("br",null),c.a.createElement("div",{style:f},c.a.createElement(E.a,{code:S,language:"js",plugins:["line-numbers"]})),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("b",null,"client/client.js"),c.a.createElement("br",null),c.a.createElement("div",{style:f},c.a.createElement(E.a,{code:P,language:"js",plugins:["line-numbers"]})),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("b",null,"client/index.html"),c.a.createElement("br",null),c.a.createElement("div",{style:f},c.a.createElement(E.a,{code:j,language:"js",plugins:["line-numbers"]}))))))}}]),n}(i.Component);n.default=Object(d.a)((function(e){return{paper:{margin:e.spacing(1),padding:e.spacing(1)},smMargin:{margin:e.spacing(1)},actionDiv:{textAlign:"center"}}}))(x)}}]);
//# sourceMappingURL=173.0c544605.chunk.js.map